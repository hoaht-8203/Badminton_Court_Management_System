# Integration Test Cases - Forgot Password Module

## Test Cases Table

| Test Case ID          | Test Case Description                                                     | Test Case Procedure                                                                                                                                                                                                                                                | Expected Results                                                                                                                                                                                                                      | Pre-conditions                                                                               |
| --------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| TC-FORGOTPASSWORD-001 | Verify Forgot Password form appears when "Quên mật khẩu?" link is clicked | 1. Navigate to login page (/homepage/login)<br>2. Verify login form is displayed<br>3. Verify "Quên mật khẩu?" link is visible<br>4. Click "Quên mật khẩu?" link<br>5. Verify ForgotPasswordForm component appears                                                 | "Quên mật khẩu?" link is clickable. ForgotPasswordForm component is displayed below the login form with "Quên mật khẩu" card title. Login form remains visible. Email input field and "Gửi" button are displayed.                     | None                                                                                         |
| TC-FORGOTPASSWORD-002 | Verify successful OTP request with valid email                            | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Verify ForgotPasswordForm is displayed<br>4. Enter valid registered email address in Email field<br>5. Click "Gửi" button<br>6. Wait for API response                                            | OTP request is successful. Success message "OTP đã được gửi đến email của bạn. Vui lòng kiểm tra email để nhập OTP để đặt lại mật khẩu!" is displayed. ValidateForgotPasswordForm (OTP input form) is shown. Email field is reset.    | Valid user account exists with the email address. Email service is configured and functional |
| TC-FORGOTPASSWORD-003 | Verify validation error when email field is empty                         | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Verify ForgotPasswordForm is displayed<br>4. Leave Email field empty<br>5. Click "Gửi" button                                                                                                    | Form validation prevents submission. Error message "Email là bắt buộc" is displayed below Email field. Submit button does not trigger API call.                                                                                       | None                                                                                         |
| TC-FORGOTPASSWORD-004 | Verify validation error for invalid email format                          | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Verify ForgotPasswordForm is displayed<br>4. Enter invalid email format (e.g., "invalid-email" or "test@") in Email field<br>5. Click "Gửi" button                                               | Form validation prevents submission. Error message "Email không hợp lệ" is displayed below Email field. Submit button does not trigger API call.                                                                                      | None                                                                                         |
| TC-FORGOTPASSWORD-005 | Verify error handling when email does not exist in system                 | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Verify ForgotPasswordForm is displayed<br>4. Enter valid email format but unregistered email address<br>5. Click "Gửi" button<br>6. Wait for API response                                        | OTP request fails. Error message from API (e.g., "Email không tồn tại trong hệ thống") is displayed. User remains on ForgotPasswordForm. Email field retains entered value.                                                           | Email address does not exist in the system                                                   |
| TC-FORGOTPASSWORD-006 | Verify OTP input form is displayed after successful OTP request           | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Enter valid registered email and submit successfully<br>4. Verify ValidateForgotPasswordForm appears<br>5. Verify OTP input field is displayed<br>6. Verify "Xác nhận" button is visible         | ValidateForgotPasswordForm is displayed. OTP input field (Input.OTP component) is visible with proper styling. "Xác nhận" button is displayed. Email field from previous step is hidden.                                              | Valid user account exists. OTP was successfully sent                                         |
| TC-FORGOTPASSWORD-007 | Verify successful password reset with valid OTP                           | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Enter valid registered email and submit successfully<br>4. Enter valid OTP code received via email in OTP field<br>5. Click "Xác nhận" button<br>6. Wait for API response                        | Password reset is successful. Success message "Mật khẩu mới đã được gửi đến email của bạn. Vui lòng kiểm tra email để nhập mật khẩu mới!" is displayed. ForgotPasswordForm is closed. User returns to login form. OTP field is reset. | Valid OTP code received via email. OTP has not expired                                       |
| TC-FORGOTPASSWORD-008 | Verify validation error when OTP field is empty                           | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Enter valid registered email and submit successfully<br>4. Leave OTP field empty<br>5. Click "Xác nhận" button                                                                                   | Form validation prevents submission. Error message "Mã OTP là bắt buộc" is displayed. Submit button does not trigger API call.                                                                                                        | OTP input form is displayed                                                                  |
| TC-FORGOTPASSWORD-009 | Verify error handling when OTP is invalid or expired                      | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Enter valid registered email and submit successfully<br>4. Enter invalid or expired OTP code in OTP field<br>5. Click "Xác nhận" button<br>6. Wait for API response                              | Password reset fails. Error message from API (e.g., "Mã OTP không hợp lệ" or "Mã OTP đã hết hạn") is displayed. User remains on ValidateForgotPasswordForm. OTP field retains entered value.                                          | Invalid or expired OTP code                                                                  |
| TC-FORGOTPASSWORD-010 | Verify loading state during OTP request and OTP validation                | 1. Navigate to login page<br>2. Click "Quên mật khẩu?" link<br>3. Enter valid registered email<br>4. Click "Gửi" button<br>5. Observe button state immediately after click<br>6. After OTP form appears, enter OTP and click "Xác nhận"<br>7. Observe button state | "Gửi" button shows loading spinner and is disabled during OTP request. "Xác nhận" button shows loading spinner and is disabled during OTP validation. Form fields are disabled during submission.                                     | Valid data entered. Network connection is available                                          |
