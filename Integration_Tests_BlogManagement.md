# Integration Test Cases - Blog Management Module

## 1. View and Filter Blogs (8 test cases)

| Test Case ID     | Test Case Description                                           | Test Case Procedure                                                                                                                                                                                                                                                                                                                                                                                                | Expected Results                                                                                                                                                                                          | Pre-conditions                                                  |
| ---------------- | --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| TC-BLOG-VIEW-001 | Verify Blog Management page UI elements are displayed correctly | 1. Navigate to blog management page (/quanlysancaulong/(private)/blogs)<br>2. Verify breadcrumb shows "Quản trị ứng dụng > Quản lý blog"<br>3. Verify "Lọc dữ liệu" search card is displayed<br>4. Verify table with columns: Tiêu đề, Danh mục (nếu có), Trạng thái, Ngày tạo, Ngày cập nhật, Người cập nhật<br>5. Verify "Tổng số blog" counter is displayed<br>6. Verify action buttons: "Thêm blog", "Tải lại" | All UI elements are displayed correctly. Search form is visible with filter fields. Table structure is shown with required columns. Action buttons are visible and styled. Total blog count is displayed. | User is logged in with admin/staff role                         |
| TC-BLOG-VIEW-002 | Verify blog list is loaded and displayed correctly              | 1. Navigate to blog management page<br>2. Wait for blog list to load<br>3. Verify table displays all blogs<br>4. Verify each row shows: title, status (Đang hoạt động/Không hoạt động), created date/time, updated date/time, updated by<br>5. Verify status colors: green for "Đang hoạt động", red for "Không hoạt động"                                                                                         | Blog list loads successfully. All blogs appear in table with correctly formatted dates and status colors. No spinner after load.                                                                          | User is logged in. Blog data exists                             |
| TC-BLOG-VIEW-003 | Verify search blog by title                                     | 1. Navigate to blog management page<br>2. Wait for blog list to load<br>3. Enter partial title in search field<br>4. Click "Tìm kiếm" button<br>5. Verify table shows only matching blogs<br>6. Verify total count updates<br>7. Click "Reset" button<br>8. Verify all blogs are displayed                                                                                                                         | Search by title filters results correctly. Table and count reflect filtered results. Reset clears filter and shows all blogs.                                                                             | User is logged in. Blogs with various titles exist              |
| TC-BLOG-VIEW-004 | Verify search blog by status                                    | 1. Navigate to blog management page<br>2. Wait for blog list to load<br>3. Select status "Đang hoạt động" or "Không hoạt động"<br>4. Click "Tìm kiếm" button<br>5. Verify table shows blogs with selected status only<br>6. Select "Tất cả" and search<br>7. Verify all blogs are displayed                                                                                                                        | Status filter works correctly. Only blogs with selected status appear. "Tất cả" shows all blogs. Status column matches selected status.                                                                   | User is logged in. Blogs with different statuses exist          |
| TC-BLOG-VIEW-005 | Verify combined search with title and status                    | 1. Navigate to blog management page<br>2. Wait for blog list to load<br>3. Enter title keyword<br>4. Select a status<br>5. Click "Tìm kiếm"<br>6. Verify table shows blogs matching both filters<br>7. Verify total count reflects filtered results<br>8. Click "Reset" to clear filters                                                                                                                           | Combined filters apply simultaneously. Results satisfy both title and status criteria. Count reflects filtered data. Reset clears all filters.                                                            | User is logged in. Blogs with various titles and statuses exist |
| TC-BLOG-VIEW-006 | Verify expandable row to view blog summary                      | 1. Navigate to blog management page<br>2. Wait for blog list to load<br>3. Click a blog row to expand<br>4. Verify expanded content shows blog ID, title, status, created/updated timestamps<br>5. Verify image is shown if available or placeholder if missing<br>6. Verify action buttons: "Cập nhật blog", "Xem nội dung", "Xóa blog"<br>7. Click row again to collapse                                         | Row expands successfully. Expanded content shows correct blog details and image/placeholder. Action buttons are visible. Row collapses on second click.                                                   | User is logged in. Blog data exists                             |
| TC-BLOG-VIEW-007 | Verify reload data functionality and total count                | 1. Navigate to blog management page<br>2. Wait for data to load<br>3. Note total blog count<br>4. Click "Tải lại" button<br>5. Observe loading state<br>6. Wait for data to reload<br>7. Verify table refreshes and total count updates                                                                                                                                                                            | Reload triggers data refresh. Loading state appears during fetch. Table and count update with latest data.                                                                                                | User is logged in. Network available                            |
| TC-BLOG-VIEW-008 | Verify view content modal opens from expanded row               | 1. Navigate to blog management page<br>2. Wait for data to load<br>3. Expand a blog row<br>4. Click "Xem nội dung" button<br>5. Verify modal opens with title and content rendered<br>6. Verify created timestamp is shown<br>7. Close modal                                                                                                                                                                       | Content modal opens correctly, shows blog title, created time, and rendered HTML content. Modal can be closed.                                                                                            | User is logged in. Blog content exists                          |

## 2. Create Blog (8 test cases)

| Test Case ID       | Test Case Description                                   | Test Case Procedure                                                                                                                                                                                                                                          | Expected Results                                                                                                    | Pre-conditions                                |
| ------------------ | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------- | --------------------------------------------- |
| TC-BLOG-CREATE-001 | Verify Create Blog Drawer opens and displays correctly  | 1. Click "Thêm blog" button<br>2. Verify Create Blog Drawer opens<br>3. Verify form fields: Tiêu đề, Trạng thái (default Active), Ảnh (optional), Nội dung (rich text), Mô tả ngắn/Tag (if applicable)<br>4. Verify "Tạo blog" and "Hủy" buttons are visible | Drawer opens with correct title. All form fields and action buttons are visible.                                    | User is logged in with admin/staff role       |
| TC-BLOG-CREATE-002 | Verify successful blog creation with required fields    | 1. Open Create Blog Drawer<br>2. Enter valid title<br>3. Keep status Active<br>4. Enter blog content in editor<br>5. (Optional) upload image<br>6. Click "Tạo blog"<br>7. Wait for API response                                                              | Blog created successfully. Success message is shown. Drawer closes. Blog appears in list with correct title/status. | User is logged in.                            |
| TC-BLOG-CREATE-003 | Verify validation errors when required fields are empty | 1. Open Create Blog Drawer<br>2. Leave title empty<br>3. Leave content empty<br>4. Click "Tạo blog"<br>5. Verify validation errors are shown for title and content                                                                                           | Submission blocked. Error messages shown for required fields. No API call made.                                     | User is logged in                             |
| TC-BLOG-CREATE-004 | Verify image upload for blog                            | 1. Open Create Blog Drawer<br>2. Fill required fields<br>3. Click image upload and select valid image<br>4. Wait for upload to finish<br>5. Verify image preview appears<br>6. Click "Tạo blog"                                                              | Image uploads successfully; preview displayed. Blog created with image URL. Success message shown.                  | User is logged in. Valid image file available |
| TC-BLOG-CREATE-005 | Verify rich text content formatting persists            | 1. Open Create Blog Drawer<br>2. Enter formatted content (bold, italic, list, link)<br>3. Click "Tạo blog"<br>4. Expand created blog and click "Xem nội dung"<br>5. Verify formatting is preserved in rendered content                                       | Content formatting is stored and rendered correctly. Links, lists, bold/italic appear as entered.                   | User is logged in                             |
| TC-BLOG-CREATE-006 | Verify cancel blog creation resets form                 | 1. Open Create Blog Drawer<br>2. Fill in title and content<br>3. Upload image<br>4. Click "Hủy" or close drawer<br>5. Reopen Create Blog Drawer                                                                                                              | Drawer closes; form resets; uploaded image not retained. Reopen shows empty form.                                   | User is logged in                             |
| TC-BLOG-CREATE-007 | Verify status selection during creation                 | 1. Open Create Blog Drawer<br>2. Fill required fields<br>3. Set status to Inactive<br>4. Click "Tạo blog"<br>5. Verify blog is created with status Inactive                                                                                                  | Blog created with selected status. Status column shows "Không hoạt động" in red.                                    | User is logged in                             |
| TC-BLOG-CREATE-008 | Verify loading state during blog creation               | 1. Open Create Blog Drawer<br>2. Fill valid data<br>3. Click "Tạo blog"<br>4. Observe button/loading state                                                                                                                                                   | Submit button shows loading spinner; form disabled during submission; state clears after response.                  | User is logged in; network available          |

## 3. Update Blog (7 test cases)

| Test Case ID       | Test Case Description                                | Test Case Procedure                                                                                                                                                              | Expected Results                                                                                   | Pre-conditions                            |
| ------------------ | ---------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ----------------------------------------- |
| TC-BLOG-UPDATE-001 | Verify Update Blog Drawer opens with pre-filled data | 1. Expand a blog row<br>2. Click "Cập nhật blog"<br>3. Verify Update Blog Drawer opens<br>4. Verify fields are pre-filled: title, status, content, image (if any)                | Drawer opens with existing data populated. Ready for edit.                                         | User is logged in. Blog exists            |
| TC-BLOG-UPDATE-002 | Verify successful blog update                        | 1. Open Update Blog Drawer for a blog<br>2. Modify title<br>3. Change status<br>4. Update content<br>5. Click "Lưu thay đổi"<br>6. Wait for API response                         | Blog updated successfully. Success message shown. Drawer closes. Table shows updated title/status. | User is logged in. Blog exists            |
| TC-BLOG-UPDATE-003 | Verify updating blog image                           | 1. Open Update Blog Drawer<br>2. Remove existing image (if any)<br>3. Upload new image<br>4. Wait for upload<br>5. Click "Lưu thay đổi"<br>6. Verify list shows new image/avatar | Image can be replaced. New image saved. Success message shown.                                     | User is logged in. Blog with image exists |
| TC-BLOG-UPDATE-004 | Verify validation when required fields are cleared   | 1. Open Update Blog Drawer<br>2. Clear title<br>3. Clear content<br>4. Click "Lưu thay đổi"<br>5. Verify validation errors                                                       | Validation blocks save. Errors shown for required fields. No API call.                             | User is logged in. Blog exists            |
| TC-BLOG-UPDATE-005 | Verify status change via update                      | 1. Open Update Blog Drawer<br>2. Change status from Active to Inactive<br>3. Save changes<br>4. Verify status column updates with correct color                                  | Status updated and reflected in list.                                                              | User is logged in. Blog exists            |
| TC-BLOG-UPDATE-006 | Verify content formatting persists after update      | 1. Open Update Blog Drawer<br>2. Add formatted text (bold/list/link)<br>3. Save changes<br>4. Open "Xem nội dung" modal<br>5. Verify formatting is preserved                     | Formatting saved and rendered correctly after update.                                              | User is logged in. Blog exists            |
| TC-BLOG-UPDATE-007 | Verify cancel update keeps original data             | 1. Open Update Blog Drawer<br>2. Modify title/content/status<br>3. Click "Hủy" or close drawer<br>4. Reopen update drawer<br>5. Verify original data remains                     | Cancel closes drawer; no data saved; reopening shows original values.                              | User is logged in. Blog exists            |

## 4. View Detail Blog (5 test cases)

| Test Case ID       | Test Case Description                           | Test Case Procedure                                                                                                                                      | Expected Results                                            | Pre-conditions                                    |
| ------------------ | ----------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- | ------------------------------------------------- |
| TC-BLOG-DETAIL-001 | Verify content modal opens from expanded row    | 1. Expand a blog row<br>2. Click "Xem nội dung" button<br>3. Verify modal opens with title and rendered content                                          | Modal opens and shows correct title/content.                | User is logged in. Blog content exists            |
| TC-BLOG-DETAIL-002 | Verify content rendering with HTML              | 1. Open content modal for a blog with formatted HTML<br>2. Verify lists, links, bold/italic render correctly<br>3. Verify images (if in content) display | Content renders with proper HTML formatting.                | User is logged in. Blog has formatted content     |
| TC-BLOG-DETAIL-003 | Verify created/updated timestamps in modal      | 1. Open content modal<br>2. Verify created timestamp shown<br>3. Verify updated timestamp shown if available                                             | Timestamps display in Vietnamese locale and correct values. | User is logged in. Blog has timestamps            |
| TC-BLOG-DETAIL-004 | Verify modal close behavior                     | 1. Open content modal<br>2. Click "Đóng" button or close icon<br>3. Verify modal closes                                                                  | Modal closes correctly and focus returns to page.           | User is logged in                                 |
| TC-BLOG-DETAIL-005 | Verify modal handles missing content gracefully | 1. Open content modal for blog with empty content<br>2. Verify modal still opens<br>3. Verify empty or placeholder content shown                         | Modal shows placeholder/empty state without errors.         | User is logged in. Blog with empty content exists |

## 5. Delete Blog (6 test cases)

| Test Case ID       | Test Case Description                               | Test Case Procedure                                                                                                                                             | Expected Results                                                      | Pre-conditions                                     |
| ------------------ | --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- | -------------------------------------------------- |
| TC-BLOG-DELETE-001 | Verify delete confirmation modal appears            | 1. Expand a blog row<br>2. Click "Xóa blog" button<br>3. Verify confirmation modal shows warning text with blog title<br>4. Verify "Xác nhận" and "Hủy" buttons | Confirmation modal appears with warning and correct buttons.          | User is logged in. Blog exists                     |
| TC-BLOG-DELETE-002 | Verify successful blog deletion                     | 1. Open delete confirmation for a blog<br>2. Click "Xác nhận"<br>3. Wait for API response<br>4. Verify success message<br>5. Verify blog is removed from list   | Blog deleted successfully. Removed from table. Success message shown. | User is logged in. Blog exists                     |
| TC-BLOG-DELETE-003 | Verify cancel deletion keeps blog                   | 1. Open delete confirmation<br>2. Click "Hủy" or close modal<br>3. Verify modal closes<br>4. Verify blog remains in list                                        | Cancel prevents deletion. Blog remains. No API call.                  | User is logged in. Blog exists                     |
| TC-BLOG-DELETE-004 | Verify delete action from expanded row              | 1. Expand a blog row<br>2. Click "Xóa blog" inside expanded actions<br>3. Confirm deletion<br>4. Verify row collapses or disappears after removal               | Delete works from expanded row actions; blog removed; UI updates.     | User is logged in. Blog exists                     |
| TC-BLOG-DELETE-005 | Verify error handling when deletion fails           | 1. Trigger delete for a blog<br>2. Simulate API error<br>3. Verify error message displayed<br>4. Verify blog remains in list                                    | Error message shown; blog not removed; user can retry.                | User is logged in. Blog exists; API error scenario |
| TC-BLOG-DELETE-006 | Verify reload after deletion reflects updated count | 1. Delete a blog successfully<br>2. Click "Tải lại" button<br>3. Wait for reload<br>4. Verify blog list and total count updated                                 | Reload reflects deletion; count decreases; deleted blog not present.  | User is logged in. Blog existed and was deleted    |
