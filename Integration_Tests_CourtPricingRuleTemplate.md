# Integration Test Cases - Management Court Pricing Rule Template Module

## Test Cases Table

| Test Case ID | Test Case Description | Test Case Procedure | Expected Results | Pre-conditions |
|--------------|----------------------|---------------------|------------------|----------------|
| TC-PRICINGTEMPLATE-001 | Verify Management Court Pricing Rule Template Drawer opens and displays correctly | 1. Navigate to court management page (/quanlysancaulong/(private)/courts)<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Verify drawer opens with title "Quản lý cấu hình giá theo khung giờ"<br>4. Verify form fields are displayed: "Ngày trong tuần" (multi-select), "Giờ bắt đầu" (TimePicker RangePicker), "Giá/giờ (₫)" (InputNumber)<br>5. Verify "Thêm cấu hình" button is visible<br>6. Verify "Hủy" button is visible in drawer header<br>7. Verify template list section is displayed below form | Drawer opens successfully. Drawer title is displayed correctly. All form fields are visible and properly styled. Action buttons are displayed. Template list section is shown. | User is logged in with admin/staff role |
| TC-PRICINGTEMPLATE-002 | Verify template list is loaded and displayed correctly | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Wait for template list to load<br>4. Verify list displays all pricing rule templates<br>5. For each template, verify: days of week tags (T2-T7, CN), time range (HH:mm:ss - HH:mm:ss), price per hour (formatted with VN locale)<br>6. Verify each template has "Chỉnh sửa" and "Xóa cấu hình" action buttons<br>7. Verify "Tải lại dữ liệu" button is visible in list header | Template list is loaded successfully. All templates are displayed in the list. Each template shows correct information (days, time range, price). Price is formatted correctly with thousand separators. Action buttons are visible for each template. List header shows reload button. | User is logged in. Pricing rule templates exist in the system |
| TC-PRICINGTEMPLATE-003 | Verify successful creation of new pricing rule template | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Select one or more days of week from "Ngày trong tuần" dropdown (e.g., T2, T3, T4)<br>4. Select time range using TimePicker RangePicker (e.g., 08:00 - 12:00)<br>5. Enter price per hour in "Giá/giờ (₫)" field (e.g., 100000)<br>6. Click "Thêm cấu hình" button<br>7. Wait for API response | New template is created successfully. All required fields are filled correctly. Success message "Thêm cấu hình giá theo khung giờ thành công!" is displayed. Form is reset and cleared. New template appears in the list. Template information is displayed correctly in the list. | User is logged in with admin/staff role |
| TC-PRICINGTEMPLATE-004 | Verify validation errors when required fields are empty | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Leave all fields empty<br>4. Click "Thêm cấu hình" button<br>5. Verify validation errors are displayed for all required fields<br>6. Fill in days of week, leave time range empty, click submit<br>7. Verify validation error for time range<br>8. Fill in time range, leave price empty, click submit<br>9. Verify validation error for price | Form validation prevents submission. Error messages are displayed for empty required fields: "Ngày trong tuần là bắt buộc", "Giờ bắt đầu là bắt buộc", "Giá/giờ là bắt buộc". Submit button does not trigger API call until all required fields are filled. | User is logged in |
| TC-PRICINGTEMPLATE-005 | Verify successful update of existing pricing rule template | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Wait for template list to load<br>4. Locate a template in the list<br>5. Click "Chỉnh sửa" button on the template<br>6. Verify form fields are pre-filled with template data<br>7. Verify button text changes to "Cập nhật cấu hình"<br>8. Modify days of week, time range, or price<br>9. Click "Cập nhật cấu hình" button<br>10. Wait for API response | Edit functionality works correctly. Form fields are pre-filled with existing template data. Button text changes to indicate edit mode. Template is updated successfully. Success message "Cập nhật cấu hình giá theo khung giờ thành công!" is displayed. Form is reset. Updated template is reflected in the list. | User is logged in. Pricing rule templates exist |
| TC-PRICINGTEMPLATE-006 | Verify successful deletion of pricing rule template | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Wait for template list to load<br>4. Locate a template in the list<br>5. Click "Xóa cấu hình" button on the template<br>6. Verify confirmation popup appears with message "Xóa cấu hình này?"<br>7. Click "Xóa" in confirmation popup<br>8. Wait for API response<br>9. Verify template is removed from list | Confirmation popup appears correctly. Template is deleted successfully. Success message "Xóa cấu hình giá theo khung giờ thành công!" is displayed. Template is removed from the list. List is refreshed automatically. | User is logged in. Pricing rule templates exist |
| TC-PRICINGTEMPLATE-007 | Verify cancel deletion in confirmation popup | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Wait for template list to load<br>4. Click "Xóa cấu hình" button on a template<br>5. Verify confirmation popup appears<br>6. Click "Hủy" in confirmation popup<br>7. Verify popup closes<br>8. Verify template remains in the list | Confirmation popup can be cancelled. Popup closes without changes. Template remains in the list. No API call is made. Template is not deleted. | User is logged in. Pricing rule templates exist |
| TC-PRICINGTEMPLATE-008 | Verify reload data functionality and cancel drawer | 1. Navigate to court management page<br>2. Click "Quản lý cấu hình giá sân theo khung Giờ" button<br>3. Wait for initial template list to load<br>4. Note the number of templates displayed<br>5. Click "Tải lại dữ liệu" button in list header<br>6. Observe loading state<br>7. Wait for data to reload<br>8. Verify template list is refreshed<br>9. Fill in form fields<br>10. Click "Hủy" button or close drawer<br>11. Verify drawer closes and form is reset | Reload button is clickable. Button triggers data refresh. List shows loading state during refresh. Data is refreshed from server. Template list is updated with latest data. Drawer closes successfully. All form fields are reset. Opening drawer again shows empty form. | User is logged in. Network connection is available |

