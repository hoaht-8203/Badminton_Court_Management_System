## FUNC_01

| Code Module      | Unnamed: 1                                   | FUNC01                                                                                  | Unnamed: 3                            | Method      | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | UserRegisterAsync | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------- | :------------------------------------ | :---------- | :--------- | :--------- | :--------- | :--------- | :---------------- | :---------- | :---------- | :--------------- |
| Created By       |                                              | DungNVHE182057                                                                          |                                       | Executed By |            |            |            |            | DungNVHE182057    |             |             |                  |
| Test requirement |                                              | Ensure registration enforces unique email/username and password policy then issues OTP. |                                       |             |            |            |            |            |                   |             |             |                  |
| Passed           |                                              | Failed                                                                                  |                                       | Untested    |            |            |            |            | N/A/B             |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                       |                                       | 0           |            |            |            |            | 1                 | 4.0         | 0.0         | 5                |
|                  |                                              |                                                                                         |                                       | UTCID01     | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                   |             |             |                  |
| Condition        | Precondition                                 |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Server connection available           | O           | O          | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | Database connection available         | O           | O          | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | Email not exists in DB                | O           |            | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | Username not exists in DB             | O           | O          |            | O          | O          |                   |             |             |                  |
|                  | Input                                        |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  | UserName                                     |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | valid_user                            | O           | O          |            | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | existing_user                         |             |            | O          |            |            |                   |             |             |                  |
|                  | FullName                                     |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Nguyen Van Dung                       | O           | O          | O          | O          | O          |                   |             |             |                  |
|                  | Email                                        |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | nguyenvandung@gmail.com               | O           |            | O          |            | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | leconghieu@gmail.com                  |             | O          |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | invalid-email                         |             |            |            | O          |            |                   |             |             |                  |
|                  | Password                                     |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Password@123                          | O           | O          | O          |            | O          |                   |             |             |                  |
|                  |                                              |                                                                                         | 123                                   |             |            |            | O          |            |                   |             |             |                  |
| Confirm          | Return                                       |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  | CurrentUserResponse                          |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | not null                              | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | UserId != Guid.Empty                  | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | UserName = input                      | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Email = input                         | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | EmailConfirmed = false                | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Roles contains User                   | O           |            |            |            |            |                   |             |             |                  |
|                  | Exception                                    |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | ApiException: Email already exists    |             | O          |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | ApiException: Username already exists |             |            | O          |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | ApiException: Invalid email format    |             |            |            | O          |            |                   |             |             |                  |
|                  |                                              |                                                                                         | ApiException: Password too weak       |             |            |            |            | O          |                   |             |             |                  |
|                  | Database changes                             |                                                                                         |                                       |             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | ApplicationUserToken created          | O           |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                         | Verification email sent               | O           |            |            |            |            |                   |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                         |                                       | N           | A          | A          | A          | A          |                   |             |             |                  |
|                  | Passed/Failed                                |                                                                                         |                                       | P           | P          | P          | P          | P          |                   |             |             |                  |

## FUNC_02

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                               | Unnamed: 3                                | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11       | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------- | :---------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC01                                                                   |                                           | Function Name |            |            |            | UserRegisterAsync |             |             |                  |
| Created By       |                                              | <Developer Name>                                                         |                                           | Executed By   |            |            |            | DungNVHE182057    |             |             |                  |
| Test requirement |                                              | <Brief description about requirements which are tested in this function> |                                           |               |            |            |            |                   |             |             |                  |
| Passed           |                                              | Failed                                                                   |                                           | Untested      |            |            |            | N/A/B             |             |             | Total Test Cases |
| 4                |                                              | 0                                                                        |                                           | 0             |            |            |            | 1                 | 3.0         | 0.0         | 4                |
|                  |                                              |                                                                          |                                           | UTCID01       | UTCID02    | UTCID02    | UTCID02    |                   |             |             |                  |
| Condition        | Precondition                                 |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | Server connection available               | O             | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                          | Database connection available             | O             | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                          | User exists in DB                         | O             |            | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                          | User status is Active                     | O             | O          | O          |            |                   |             |             |                  |
|                  | Input                                        |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  | Email                                        |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | nguyenvandung@gmail.com                   | O             |            | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                          | leconghieu@gmail.com                      |               | O          |            |            |                   |             |             |                  |
|                  | Password                                     |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | Dung@123                                  | O             | O          |            | O          |                   |             |             |                  |
|                  |                                              |                                                                          | Dung123                                   |               |            | O          |            |                   |             |             |                  |
| Confirm          | Return                                       |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  | CurrentUserResponse                          |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | not null                                  | O             |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | UserId != Guid.Empty                      | O             |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | Email = input                             | O             |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | Roles not empty                           | O             |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | ACCESS_TOKEN cookie set                   | O             |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | REFRESH_TOKEN cookie set                  | O             |            |            |            |                   |             |             |                  |
|                  | Exception                                    |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | ApiException: Email or password incorrect |               | O          | O          |            |                   |             |             |                  |
|                  |                                              |                                                                          | ApiException: Account is inactive         |               |            |            | O          |                   |             |             |                  |
|                  | Database changes                             |                                                                          |                                           |               |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                          | RefreshToken saved to DB                  | O             |            |            |            |                   |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                          |                                           | N             | A          | A          | A          |                   |             |             |                  |
|                  | Passed/Failed                                |                                                                          |                                           | P             | P          | P          | P          |                   |             |             |                  |

## FUNC_03

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                   | Unnamed: 3                                                           | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 10 | Unnamed: 11         | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :---------- | :------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC03                                                                                                                                       |                                                                      | Function Name |            |            |            |            |             | UpdatePasswordAsync |             |             |                  |
| Created By       |                                              | DungNVHE182057                                                                                                                               |                                                                      | Executed By   |            |            |            |            |             | DungNVHE182057      |             |             |                  |
| Test requirement |                                              | Ensure password updates require valid refresh token, authenticated active users, and rotate auth cookies while cleaning up temporary tokens. |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                       |                                                                      | Untested      |            |            |            |            |             | N/A/B               |             |             | Total Test Cases |
| 6                |                                              | 0                                                                                                                                            |                                                                      | 0             |            |            |            |            |             | 1                   | 5.0         | 0.0         | 6                |
|                  |                                              |                                                                                                                                              |                                                                      | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    | UTCID06     |                     |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Server connection available                                          | O             | O          | O          | O          | O          | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Database connection available                                        | O             | O          | O          | O          | O          | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | User principal authenticated                                         | O             | O          |            | O          | O          | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | User status is Active                                                | O             | O          | O          |            | O          | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Refresh token record exists in DB                                    | O             | O          | O          | O          | O          |             |                     |             |             |                  |
|                  | Input                                        |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  | OldPassword                                  |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Dung@123                                                             | O             | O          | O          | O          |            | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Dungg@123                                                            |               |            |            |            | O          |             |                     |             |             |                  |
|                  | NewPassword                                  |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | DungNew@123                                                          | O             | O          | O          | O          | O          | O           |                     |             |             |                  |
|                  | RefreshToken                                 |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | valid-refresh-token                                                  | O             |            | O          | O          | O          | O           |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | null / missing                                                       |               | O          |            |            |            |             |                     |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  | Auth cookies & response                      |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ACCESS_TOKEN cookie set with new JWT                                 | O             |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | REFRESH_TOKEN cookie rotated (7 days)                                | O             |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Password change acknowledged                                         | O             |            |            |            |            |             |                     |             |             |                  |
|                  | Exception                                    |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Mã refresh token không tồn tại.                        |               | O          |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Không được phép truy cập                               |               |            | O          |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Tài khoản dừng hoạt động không thể cập nhật mật khẩu   |               |            |            | O          |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Cập nhật mật khẩu thất bại                             |               |            |            |            | O          |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Không thể lấy thông tin người dùng cho refresh token   |               |            |            |            |            | O           |                     |             |             |                  |
|                  | Database changes                             |                                                                                                                                              |                                                                      |               |            |            |            |            |             |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Temp password tokens removed and refresh token rotated after success | O             |            |            |            |            |             |                     |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                              |                                                                      | N             | A          | A          | A          | A          | A           |                     |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                              |                                                                      | P             | P          | P          | P          | P          | P           |                     |             |             |                  |

## FUNC_04

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                   | Unnamed: 3                                              | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11         | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------ | :------------ | :--------- | :--------- | :--------- | :------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC04                                                                                                                                       |                                                         | Function Name |            |            |            | ForgotPasswordAsync |             |             |                  |
| Created By       |                                              | DungNVHE182057                                                                                                                               |                                                         | Executed By   |            |            |            | DungNVHE182057      |             |             |                  |
| Test requirement |                                              | Ensure password updates require valid refresh token, authenticated active users, and rotate auth cookies while cleaning up temporary tokens. |                                                         |               |            |            |            |                     |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                       |                                                         | Untested      |            |            |            | N/A/B               |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                                                            |                                                         | 0             |            |            |            | 1                   | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                                                                              |                                                         | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                     |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Server connection available                             | O             | O          | O          | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Database connection available                           | O             | O          | O          | O          |                     |             |             |                  |
|                  | Input                                        |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  | Email                                        |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | levanh@gmail.com                                        | O             |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | leconghieu@gmail.com                                    |               | O          |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | <empty>                                                 |               |            | O          |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | phamthic@gmail.com                                      |               |            |            | O          |                     |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  | OTP & notification                           |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ResetPassword OTP stored (TokenType=ResetPassword)      | O             |            |            | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | OTP expires after 10 minutes                            | O             |            |            | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Forgot password email queued via SendEmailFireAndForget | O             |            |            | O          |                     |             |             |                  |
|                  | Exception                                    |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Email không tồn tại                       |               | O          | O          |            |                     |             |             |                  |
|                  | Database changes                             |                                                                                                                                              |                                                         |               |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApplicationUserToken persisted for reset                | O             |            |            | O          |                     |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                              |                                                         | N             | A          | A          | B          |                     |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                              |                                                         | P             | P          | P          | P          |                     |             |             |                  |

## FUNC_05

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                   | Unnamed: 3                                   | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11         | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC04                                                                                                                                       |                                              | Function Name |            |            |            |            | ForgotPasswordAsync |             |             |                  |
| Created By       |                                              | DungNVHE182057                                                                                                                               |                                              | Executed By   |            |            |            |            | DungNVHE182057      |             |             |                  |
| Test requirement |                                              | Ensure password updates require valid refresh token, authenticated active users, and rotate auth cookies while cleaning up temporary tokens. |                                              |               |            |            |            |            |                     |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                       |                                              | Untested      |            |            |            |            | N/A/B               |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                                                            |                                              | 0             |            |            |            |            | 1                   | 4.0         | 0.0         | 5                |
|                  |                                              |                                                                                                                                              |                                              | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                     |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Server connection available                  | O             | O          | O          | O          | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Database connection available                | O             | O          | O          | O          | O          |                     |             |             |                  |
|                  | Input                                        |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  | Email                                        |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | daoxuand@gmail.com                           | O             |            |            |            | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | leconghieu@gmail.com                         |               |            | O          |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | hoangthie@gmail.com                          |               |            |            | O          |            |                     |             |             |                  |
|                  | Token                                        |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | VALID-OTP                                    | O             |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | <empty>                                      |               | O          |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | WRONG-OTP                                    |               |            |            | O          |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | EXPIRED-OTP                                  |               |            |            |            | O          |                     |             |             |                  |
|                  | TokenRecordState                             |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Record matches user/token                    | O             |            |            |            | O          |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | No token record found                        |               |            |            | O          |            |                     |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  | Verification result                          |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | EmailConfirmed flag set to true              | O             |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | Verification token removed from DB           | O             |            |            |            |            |                     |             |             |                  |
|                  | Exception                                    |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Email hoặc token không hợp lệ  |               | O          |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Email không tồn tại            |               |            | O          |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Mã xác thực email không hợp lệ |               |            |            | O          |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApiException: Mã xác thực email đã hết hạn   |               |            |            |            | O          |                     |             |             |                  |
|                  | Database changes                             |                                                                                                                                              |                                              |               |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | User EmailConfirmed persisted                | O             |            |            |            |            |                     |             |             |                  |
|                  |                                              |                                                                                                                                              | ApplicationUserToken deleted                 | O             |            |            |            |            |                     |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                              |                                              | N             | A          | A          | A          | A          |                     |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                              |                                              | P             | P          | P          | P          | P          |                     |             |             |                  |

## FUNC_06

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                         | Unnamed: 3                                                                          | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11             | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :---------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC06                                                                                                                                             |                                                                                     | Function Name |            |            |            |            | CreateBookingCourtAsync |             |             |                  |
| Created By       |                                              | DungNVHE182057                                                                                                                                     |                                                                                     | Executed By   |            |            |            |            | DungNVHE182057          |             |             |                  |
| Test requirement |                                              | Receptionist booking creation validates court availability, schedule overlap, and voucher rules before generating occurrences and payment records. |                                                                                     |               |            |            |            |            |                         |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                             |                                                                                     | Untested      |            |            |            |            | N/A/B                   |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                                                                  |                                                                                     | 0             |            |            |            |            | 1                       | 4.0         | 0.0         | 5                |
|                  |                                              |                                                                                                                                                    |                                                                                     | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                         |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Server connection available                                                         | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Database connection available                                                       | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Court exists                                                                        | O             |            | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Court status is Active                                                              | O             |            | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Pricing configured for requested slot                                               | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | No conflicting booking                                                              | O             | O          | O          |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Voucher passes validation                                                           | O             | O          | O          | O          |            |                         |             |             |                  |
|                  | Input                                        |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  | CourtId                                      |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | A01                                                                                 | O             |            | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 00000000-0000-0000-0000-000000000001                                                |               | O          |            |            |            |                         |             |             |                  |
|                  | StartDate                                    |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | T0+1                                                                                | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  | StartTime                                    |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 18:00                                                                               | O             | O          |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 20:00                                                                               |               |            | O          |            |            |                         |             |             |                  |
|                  | EndTime                                      |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 20:00                                                                               | O             | O          |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 18:00                                                                               |               |            | O          |            |            |                         |             |             |                  |
|                  | PayInFull                                    |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | true                                                                                | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  | PaymentMethod                                |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Bank                                                                                | O             | O          | O          | O          | O          |                         |             |             |                  |
|                  | VoucherId                                    |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 123 (valid)                                                                         | O             | O          | O          | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | 123 (ValidateVoucher.IsValid=false)                                                 |               |            |            |            | O          |                         |             |             |                  |
|                  | Slot                                         |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Overlaps ACTIVE/PendingPayment-not-expired booking same court                       |               |            |            | O          |            |                         |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  | DetailBookingCourtResponse                   |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Response not null with booking details                                              | O             |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Status PendingPayment & HoldExpiresAtUtc set                                        | O             |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Payment created with requested deposit/full preference                              | O             |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Notification + bookingCreated broadcast fired                                       | O             |            |            |            |            |                         |             |             |                  |
|                  | Exception                                    |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | ApiException: Sân này không tồn tại.                                                |               | O          |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | ApiException: Giờ bắt đầu phải nhỏ hơn giờ kết thúc.                                |               |            | O          |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | ApiException: Khoảng thời gian/sân đã được đặt trước, vui lòng chọn thời gian khác. |               |            |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | ApiException: Voucher không hợp lệ                                                  |               |            |            |            | O          |                         |             |             |                  |
|                  | Database changes                             |                                                                                                                                                    |                                                                                     |               |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | BookingCourt + occurrences persisted as PendingPayment                              | O             |            |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                                                                    | Payment + hold expiry saved                                                         | O             |            |            |            |            |                         |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                                    |                                                                                     | N             | A          | A          | A          | A          |                         |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                                    |                                                                                     | P             | P          | P          | P          | P          |                         |             |             |                  |

## FUNC_07

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                    | Unnamed: 3                                                                          | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 10 | Unnamed: 11                 | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :---------- | :-------------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC07                                                                                                                                        |                                                                                     | Function Name |            |            |            |            |             | UserCreateBookingCourtAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                                                               |                                                                                     | Executed By   |            |            |            |            |             | TRONGDTHE170708             |             |             |                  |
| Test requirement |                                              | Self-service booking validates user/customer context, court availability, and voucher rules while auto-creating customer records when needed. |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                        |                                                                                     | Untested      |            |            |            |            |             | N/A/B                       |             |             | Total Test Cases |
| 6                |                                              | 0                                                                                                                                             |                                                                                     | 0             |            |            |            |            |             | 1                           | 4.0         | 1.0         | 6                |
|                  |                                              |                                                                                                                                               |                                                                                     | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    | UTCID06     |                             |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Server connection available                                                         | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Database connection available                                                       | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Court exists & not InUse                                                            | O             | O          | O          |            | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | User exists                                                                         | O             |            | O          | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Customer profile already linked                                                     | O             |            |            | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | No conflicting booking                                                              | O             | O          | O          | O          |            | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Voucher passes validation                                                           | O             | O          | O          | O          | O          |             |                             |             |             |                  |
|                  | Input                                        |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  | UserId                                       |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | valid-user-id                                                                       | O             |            | O          | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | unknown-user-id                                                                     |               | O          |            |            |            |             |                             |             |             |                  |
|                  | CourtId                                      |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | A01                                                                                 | O             | O          | O          |            | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | InUse-Court                                                                         |               |            |            | O          |            |             |                             |             |             |                  |
|                  | StartDate                                    |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | T0                                                                                  | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  | StartTime                                    |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | 18:00                                                                               | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  | EndTime                                      |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | 20:00                                                                               | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  | PaymentMethod                                |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Bank                                                                                | O             | O          | O          | O          | O          | O           |                             |             |             |                  |
|                  | VoucherId                                    |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | null                                                                                | O             | O          | O          | O          | O          |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | invalid-voucher                                                                     |               |            |            |            |            | O           |                             |             |             |                  |
|                  | CustomerProfile                              |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | exists                                                                              | O             |            |            | O          | O          | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | missing (auto-create)                                                               |               |            | O          |            |            |             |                             |             |             |                  |
|                  | Slot                                         |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | available                                                                           | O             | O          | O          | O          |            | O           |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | overlaps ACTIVE booking                                                             |               |            |            |            | O          |             |                             |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  | DetailBookingCourtResponse                   |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Response not null with booking summary                                              | O             |            | O          |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Customer profile auto-created when missing                                          |               |            | O          |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Status PendingPayment & HoldExpiresAtUtc set (5 minutes)                            | O             |            | O          |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Payment created (Bank, deposit 30%)                                                 | O             |            | O          |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Notification + bookingCreated broadcast triggered                                   | O             |            | O          |            |            |             |                             |             |             |                  |
|                  | Exception                                    |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | ApiException: Người dùng không tồn tại.                                             |               | O          |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | ApiException: Sân này đang được sử dụng.                                            |               |            |            | O          |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | ApiException: Khoảng thời gian/sân đã được đặt trước, vui lòng chọn thời gian khác. |               |            |            |            | O          |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | ApiException: Voucher không hợp lệ                                                  |               |            |            |            |            | O           |                             |             |             |                  |
|                  | Database changes                             |                                                                                                                                               |                                                                                     |               |            |            |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | Customer entity linked to user when absent                                          |               |            | O          |            |            |             |                             |             |             |                  |
|                  |                                              |                                                                                                                                               | BookingCourt + payment persisted                                                    | O             |            | O          |            |            |             |                             |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                               |                                                                                     | N             | A          | B          | A          | A          | A           |                             |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                               |                                                                                     | P             | P          | P          | P          | P          | P           |                             |             |             |                  |

## FUNC_08

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                          | Unnamed: 3                                                                | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11             | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------ | :------------ | :--------- | :--------- | :--------- | :---------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC08                                                                                              |                                                                           | Function Name |            |            |            | CancelBookingCourtAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                     |                                                                           | Executed By   |            |            |            | TRONGDTHE170708         |             |             |                  |
| Test requirement |                                              | Occurrence cancellation should be idempotent, update payments still pending, and broadcast changes. |                                                                           |               |            |            |            |                         |             |             |                  |
| Passed           |                                              | Failed                                                                                              |                                                                           | Untested      |            |            |            | N/A/B                   |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                   |                                                                           | 0             |            |            |            | 2                       | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                                     |                                                                           | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                         |             |             |                  |
| Condition        | Precondition                                 |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Server connection available                                               | O             | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Database connection available                                             | O             | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Occurrence exists                                                         | O             |            | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Occurrence status not Cancelled                                           | O             |            |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Pending/Unpaid payments exist                                             |               |            |            | O          |                         |             |             |                  |
|                  | Input                                        |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  | OccurrenceId                                 |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | valid-active-occurrence                                                   | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | not-found-occurrence                                                      |               | O          |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | cancelled-occurrence                                                      |               |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | pending-payment-occurrence                                                |               |            |            | O          |                         |             |             |                  |
|                  | Status                                       |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Active                                                                    | O             |            |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Cancelled                                                                 |               |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | PendingPayment                                                            |               |            |            | O          |                         |             |             |                  |
|                  | PaymentStatus                                |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Paid                                                                      | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Unpaid                                                                    |               |            |            | O          |                         |             |             |                  |
| Confirm          | Return                                       |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  | Cancellation result                          |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Method returns true                                                       | O             |            | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Occurrence status set to Cancelled                                        | O             |            |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Pending/Unpaid payments marked Cancelled                                  |               |            |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | SignalR events bookingUpdated/occurrenceCancelled/paymentsCancelled fired | O             |            |            | O          |                         |             |             |                  |
|                  | Exception                                    |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | ApiException: Không tìm thấy lịch sân                                     |               | O          |            |            |                         |             |             |                  |
|                  | Database changes                             |                                                                                                     |                                                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                                     | Occurrence status persisted as Cancelled                                  | O             |            |            | O          |                         |             |             |                  |
|                  |                                              |                                                                                                     | Related payment rows flagged Cancelled                                    |               |            |            | O          |                         |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                     |                                                                           | N             | A          | B          | N          |                         |             |             |                  |
|                  | Passed/Failed                                |                                                                                                     |                                                                           | P             | P          | P          | P          |                         |             |             |                  |

## FUNC_09

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                    | Unnamed: 3                                        | Unnamed: 4 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 11            | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------- | :------------------------------------------------ | :--------- | :------------ | :--------- | :--------- | :--------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC09                                                                                        |                                                   |            | Function Name |            |            | CheckInOccurrenceAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                               |                                                   |            | Executed By   |            |            | TRONGDTHE170708        |             |             |                  |
| Test requirement |                                              | Recording voucher usage inserts a usage row and increments UsedCount when the voucher exists. |                                                   |            |               |            |            |                        |             |             |                  |
| Passed           |                                              | Failed                                                                                        |                                                   |            | Untested      |            |            | N/A/B                  |             |             | Total Test Cases |
| 3                |                                              | 0                                                                                             |                                                   |            | 0             |            |            | 1                      | 1.0         | 1.0         | 3                |
|                  |                                              |                                                                                               |                                                   |            | UTCID01       | UTCID02    | UTCID03    |                        |             |             |                  |
| Condition        | Precondition                                 |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | Server connection available                       | O          | O             | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | Database connection available                     | O          | O             | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | Voucher exists                                    | O          | O             |            | O          |                        |             |             |                  |
|                  | Input                                        |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  | OccurrenceId                                 |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | valid-occurrence                                  | O          | O             | O          | O          |                        |             |             |                  |
|                  | VoucherId                                    |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | existing-voucher                                  | O          | O             |            | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | non-existing-voucher                              |            |               | O          |            |                        |             |             |                  |
|                  | Context                                      |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | CheckIn                                           | O          | O             | O          |            |                        |             |             |                  |
|                  |                                              |                                                                                               | Purchase Membership                               |            |               |            | O          |                        |             |             |                  |
| Confirm          | Return                                       |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  | Voucher usage result                         |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | Task completes without exception                  |            | O             | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | VoucherUsage entry inserted                       |            | O             | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | Voucher UsedCount incremented when voucher exists |            | O             |            | O          |                        |             |             |                  |
|                  | Exception                                    |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | No exception (fire-and-forget behavior)           |            | O             | O          | O          |                        |             |             |                  |
|                  | Database changes                             |                                                                                               |                                                   |            |               |            |            |                        |             |             |                  |
|                  |                                              |                                                                                               | VoucherUsage row persisted                        |            | O             | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                               | Voucher.UsedCount updated when voucher found      |            | O             |            | O          |                        |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                               |                                                   |            | N             | A          | B          |                        |             |             |                  |
|                  | Passed/Failed                                |                                                                                               |                                                   |            | P             | P          | P          |                        |             |             |                  |

## FUNC_10

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                               | Unnamed: 3                                          | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11             | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :--------------------------------------------------------------------------------------- | :-------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC10                                                                                   |                                                     | Function Name |            |            |            | CheckOutOccurrenceAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                          |                                                     | Executed By   |            |            |            | TRONGDTHE170708         |             |             |                  |
| Test requirement |                                              | Checkout allowed only after check-in, restores court availability, and logs staff notes. |                                                     |               |            |            |            |                         |             |             |                  |
| Passed           |                                              | Failed                                                                                   |                                                     | Untested      |            |            |            | N/A/B                   |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                        |                                                     | 0             |            |            |            | 1                       | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                          |                                                     | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                         |             |             |                  |
| Condition        | Precondition                                 |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Server connection available                         | O             | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                          | Database connection available                       | O             | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                          | Occurrence exists                                   | O             |            | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                          | Occurrence status CheckedIn                         | O             |            |            |            |                         |             |             |                  |
|                  | Input                                        |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  | OccurrenceId                                 |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | valid-checkedin-occurrence                          | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | not-found-occurrence                                |               | O          |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | pending-active-occurrence                           |               |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                          | completed-occurrence                                |               |            |            | O          |                         |             |             |                  |
|                  | Status                                       |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | CheckedIn                                           | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | PendingPayment                                      |               |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Active                                              |               |            | O          |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Completed                                           |               |            |            | O          |                         |             |             |                  |
|                  | Note                                         |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | optional staff note                                 | O             |            |            |            |                         |             |             |                  |
| Confirm          | Return                                       |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  | Checkout result                              |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Occurrence status updated to Completed              | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Court status restored to Active                     | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Note appended when provided                         | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | SignalR bookingUpdated & occurrenceCheckedOut fired | O             |            |            |            |                         |             |             |                  |
|                  | Exception                                    |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | ApiException: Không tìm thấy lịch sân               |               | O          |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | ApiException: Phải check-in trước khi checkout      |               |            | O          | O          |                         |             |             |                  |
|                  | Database changes                             |                                                                                          |                                                     |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Occurrence status persisted as Completed            | O             |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                          | Court status set Active                             | O             |            |            |            |                         |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                          |                                                     | N             | A          | A          | B          |                         |             |             |                  |
|                  | Passed/Failed                                |                                                                                          |                                                     | P             | P          | P          | P          |                         |             |             |                  |

## FUNC_11

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                        | Unnamed: 3                                             | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11               | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------ | :----------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC11                                                                                            |                                                        | Function Name |            |            |            | MarkOccurrenceNoShowAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                   |                                                        | Executed By   |            |            |            | TRONGDTHE170708           |             |             |                  |
| Test requirement |                                              | No-show marking should free the court, append staff notes, and be idempotent for completed slots. |                                                        |               |            |            |            |                           |             |             |                  |
| Passed           |                                              | Failed                                                                                            |                                                        | Untested      |            |            |            | N/A/B                     |             |             | Total Test Cases |
| 3                |                                              | 0                                                                                                 |                                                        | 0             |            |            |            | 1                         | 2.0         | 0.0         | 3                |
|                  |                                              |                                                                                                   |                                                        | UTCID01       | UTCID02    | UTCID03    |            |                           |             |             |                  |
| Condition        | Precondition                                 |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Server connection available                            | O             | O          | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Database connection available                          | O             | O          | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Occurrence exists                                      | O             |            | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Occurrence status not Completed                        | O             |            |            |            |                           |             |             |                  |
|                  | Input                                        |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  | OccurrenceId                                 |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | valid-pending-occurrence                               | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | not-found-occurrence                                   |               | O          |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | completed-occurrence                                   |               |            | O          |            |                           |             |             |                  |
|                  | Status                                       |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | PendingPayment                                         | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Completed                                              |               |            | O          |            |                           |             |             |                  |
|                  | Note                                         |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | "Customer unreachable"                                 | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | null                                                   |               |            | O          |            |                           |             |             |                  |
| Confirm          | Return                                       |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  | No-show result                               |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Occurrence status updated to NoShow                    | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Court status freed to Active                           | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Note appended when provided                            | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | SignalR bookingUpdated & occurrenceNoShow fired        | O             |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Method returns true when already Completed (no change) |               |            | O          |            |                           |             |             |                  |
|                  | Exception                                    |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | ApiException: Không tìm thấy lịch sân                  |               | O          |            |            |                           |             |             |                  |
|                  | Database changes                             |                                                                                                   |                                                        |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                   | Occurrence + court statuses persisted for NoShow       | O             |            |            |            |                           |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                   |                                                        | N             | A          | B          |            |                           |             |             |                  |
|                  | Passed/Failed                                |                                                                                                   |                                                        | P             | P          | P          |            |                           |             |             |                  |

## FUNC_12

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                           | Unnamed: 3                                         | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11       | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :--------------------------------------------------------------------------------------------------- | :------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :---------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC12                                                                                               |                                                    | Function Name |            |            |            |            | AddOrderItemAsync |             |             |                  |
| Created By       |                                              | DungNVHE182057                                                                                       |                                                    | Executed By   |            |            |            |            | DungNVHE182057    |             |             |                  |
| Test requirement |                                              | Adding order items requires active bookings, valid products, and should aggregate duplicate entries. |                                                    |               |            |            |            |            |                   |             |             |                  |
| Passed           |                                              | Failed                                                                                               |                                                    | Untested      |            |            |            |            | N/A/B             |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                    |                                                    | 0             |            |            |            |            | 2                 | 3.0         | 0.0         | 5                |
|                  |                                              |                                                                                                      |                                                    | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                   |             |             |                  |
| Condition        | Precondition                                 |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | Server connection available                        | O             | O          | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | Database connection available                      | O             | O          | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | Occurrence exists                                  | O             |            | O          | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | Booking status Active                              | O             |            |            | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | Product exists                                     | O             |            | O          |            | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | Existing order item for product                    |               |            |            |            | O          |                   |             |             |                  |
|                  | Input                                        |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  | BookingCourtOccurrenceId                     |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | valid-active-occurrence                            | O             |            |            | O          | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | not-found-occurrence                               |               | O          |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | pending-payment-occurrence                         |               |            | O          |            |            |                   |             |             |                  |
|                  | ProductId                                    |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | valid-product                                      | O             |            | O          |            | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | not-found-product                                  |               |            |            | O          |            |                   |             |             |                  |
|                  | Quantity                                     |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | 2                                                  | O             |            | O          | O          |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | 1                                                  |               |            |            |            | O          |                   |             |             |                  |
|                  | ExistingItem                                 |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | false (new item)                                   | O             |            | O          | O          |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | true (aggregate quantity)                          |               |            |            |            | O          |                   |             |             |                  |
| Confirm          | Return                                       |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  | Add item result                              |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | Method returns true                                | O             |            |            |            | O          |                   |             |             |                  |
|                  |                                              |                                                                                                      | New BookingOrderItem inserted                      | O             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | Existing item quantity increased                   |               |            |            |            | O          |                   |             |             |                  |
|                  | Exception                                    |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | ApiException: Không tìm thấy lịch sân              |               | O          |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | ApiException: Chỉ thêm món cho lịch đang hoạt động |               |            | O          |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | ApiException: Không tìm thấy sản phẩm              |               |            |            | O          |            |                   |             |             |                  |
|                  | Database changes                             |                                                                                                      |                                                    |               |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | BookingOrderItem row inserted                      | O             |            |            |            |            |                   |             |             |                  |
|                  |                                              |                                                                                                      | Existing BookingOrderItem quantity & total updated |               |            |            |            | O          |                   |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                      |                                                    | N             | A          | A          | A          | N          |                   |             |             |                  |
|                  | Passed/Failed                                |                                                                                                      |                                                    | P             | P          | P          | P          | P          |                   |             |             |                  |

## FUNC_13

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                                  | Unnamed: 3                                              | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 10 | Unnamed: 11          | Unnamed: 12      | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------ | :------------ | :--------- | :--------- | :--------- | :--------- | :---------- | :------------------- | :--------------- | :---------- | :---------- |
| Function Code    |                                              | FUNC13                                                                                                                                      |                                                         | Function Name |            |            |            |            |             | UpdateOrderItemAsync |                  |             |             |
| Created By       |                                              | DungNVHE182057                                                                                                                              |                                                         | Executed By   |            |            |            |            |             | DungNVHE182057       |                  |             |             |
| Test requirement |                                              | Updating order items should handle increase/decrease, deletion, no-op when qty<=0 without existing rows, and validation of booking/product. |                                                         |               |            |            |            |            |             |                      |                  |             |             |
| Passed           |                                              | Failed                                                                                                                                      |                                                         | Untested      |            |            |            |            |             | N/A/B                | Total Test Cases |
| 6                |                                              | 0                                                                                                                                           |                                                         | 0             |            |            |            |            |             | 0                    | 6                |
|                  |                                              |                                                                                                                                             |                                                         | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    | UTCID06     |                      |                  |
| Condition        | Precondition                                 |                                                                                                                                             |                                                         |               |            |            |            |            |             |                      |
|                  |                                              |                                                                                                                                             | Server connection available                             | O             | O          | O          | O          | O          | O           |                      |
|                  |                                              |                                                                                                                                             | Database connection available                           | O             | O          | O          | O          | O          | O           |                      |
|                  |                                              |                                                                                                                                             | Occurrence exists                                       | O             | O          | O          | O          | O          |             |                      |
|                  |                                              |                                                                                                                                             | Booking status Active                                   | O             | O          | O          | O          |            |             |                      |
|                  |                                              |                                                                                                                                             | Booking order item exists before update                 | O             | O          |            |            | O          |             |                      |
|                  |                                              |                                                                                                                                             | Product exists                                          | O             | O          | O          | O          | O          | O           |                      |
|                  | Input                                        |                                                                                                                                             |                                                         |               |            |            |            |            |             |                      |
|                  | BookingCourtOccurrenceId                     |                                                                                                                                             |                                                         | O             | O          | O          | O          | O          | O           |                      |
|                  | ProductId                                    |                                                                                                                                             |                                                         | O             | O          | O          | O          | O          | O           |                      |
|                  | Quantity                                     |                                                                                                                                             |                                                         | O             | O          | O          | O          |            |             |                      |
| Confirm          | Return                                       |                                                                                                                                             |                                                         |               |            |            |            |            |             |                      |                  |             |             |
|                  | Update item result                           |                                                                                                                                             |                                                         |               |            |            |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | Method returns true                                     | O             | O          | O          | O          |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | Existing item quantity updated & total recalculated     | O             |            |            |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | Existing item removed when qty<=0                       |               | O          |            |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | No change when qty<=0 and item missing                  |               |            | O          |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | New BookingOrderItem inserted                           |               |            |            | O          |            |             |                      |                  |             |             |
|                  | Exception                                    |                                                                                                                                             |                                                         |               |            |            |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | ApiException: Chỉ cập nhật món cho lịch đang hoạt động  |               |            |            |            | O          |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | ApiException: Không tìm thấy lịch sân                   |               |            |            |            |            | O           |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | ApiException: Không tìm thấy sản phẩm                   |               |            |            |            |            |             | O                    |                  |             |             |
|                  | Database changes                             |                                                                                                                                             |                                                         | O             | O          |            |            |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | Existing booking order item updated/removed accordingly |               |            |            | O          |            |             |                      |                  |             |             |
|                  |                                              |                                                                                                                                             | New booking order item inserted when needed             |               |            |            |            |            |             |                      |                  |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                             |                                                         | N             | B          | B          | N          | A          | A           | A                    |                  |             |             |
|                  | Passed/Failed                                |                                                                                                                                             |                                                         | P             | P          | P          | P          | P          | P           | P                    |                  |             |             |

## FUNC_14

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                        | Unnamed: 3                                                 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11     | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :-------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC14                                                                                                                            |                                                            | Function Name |            |            |            |            | CheckoutAsync   |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                                                   |                                                            | Executed By   |            |            |            |            | TRONGDTHE170708 |             |             |                  |
| Test requirement |                                              | Checkout requires checked-in occurrences, recalculates charges, validates vouchers, creates order/payment, and updates resources. |                                                            |               |            |            |            |            |                 |             |             |                  |
| Passed           |                                              | Failed                                                                                                                            |                                                            | Untested      |            |            |            |            | N/A/B           |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                                                 |                                                            | 0             |            |            |            |            | 1               | 3.0         | 1.0         | 5                |
|                  |                                              |                                                                                                                                   |                                                            | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                 |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Server connection available                                | O             | O          | O          | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Database connection available                              | O             | O          | O          | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Booking occurrence exists                                  | O             |            | O          | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Occurrence status is CheckedIn                             | O             |            |            | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Voucher passes validation when provided                    | O             |            | O          |            | O          |                 |             |             |                  |
|                  | Input                                        |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  | BookingCourtOccurrenceId                     |                                                                                                                                   |                                                            | O             | O          | O          | O          | O          |                 |             |             |                  |
|                  | PaymentMethod                                |                                                                                                                                   |                                                            | O             |            |            |            | O          |                 |             |             |                  |
|                  | LateFeePercentage                            |                                                                                                                                   |                                                            | O             |            |            | O          | O          |                 |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  | Checkout result                              |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | CheckoutResponse returned with totals & payment info       | O             |            |            |            | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Order & payment statuses follow payment method             | O             |            |            |            | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Payment created via PaymentService (QR for bank)           | O             |            |            |            | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Occurrence & court statuses updated to Completed/Active    | O             |            |            |            | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Voucher usage recorded immediately for valid paid checkout | O             |            |            |            |            |                 |             |             |                  |
|                  | Exception                                    |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | ApiException: Không tìm thấy lịch sân                      |               | O          |            |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | ApiException: Chỉ có thể checkout cho lịch đang check-in   |               |            | O          |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | ApiException: Voucher không hợp lệ                         |               |            |            | O          |            |                 |             |             |                  |
|                  | Database changes                             |                                                                                                                                   |                                                            |               |            |            |            |            |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Order & payment persisted                                  | O             |            |            |            | O          |                 |             |             |                  |
|                  |                                              |                                                                                                                                   | Occurrence/Court state + voucher usage updated             | O             |            |            |            | O          |                 |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                   |                                                            | N             | A          | A          | A          | B          |                 |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                   |                                                            | P             | P          | P          | P          | P          |                 |             |             |                  |

## FUNC_15

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                             | Unnamed: 3                                                         | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11            | Unnamed: 12      | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------------------- | :--------------- | :---------- | :---------- |
| Function Code    |                                              | FUNC15                                                                                                 |                                                                    | Function Name |            |            |            | ExtendPaymentTimeAsync |                  |             |             |
| Created By       |                                              | TRONGDTHE170708                                                                                        |                                                                    | Executed By   |            |            |            | TRONGDTHE170708        |                  |             |             |
| Test requirement |                                              | Only cancelled orders can be extended; payments reset to PendingPayment and booking hold is refreshed. |                                                                    |               |            |            |            |                        |                  |             |             |
| Passed           |                                              | Failed                                                                                                 |                                                                    | Untested      |            |            |            | N/A/B                  | Total Test Cases |
| 3                |                                              | 0                                                                                                      |                                                                    | 0             |            |            |            | 0                      | 3                |
|                  |                                              |                                                                                                        |                                                                    | UTCID01       | UTCID02    | UTCID03    |            |                        |                  |
| Condition        | Precondition                                 |                                                                                                        |                                                                    |               |            |            |            |                        |
|                  |                                              |                                                                                                        | Server connection available                                        | O             | O          | O          |            |                        |
|                  |                                              |                                                                                                        | Database connection available                                      | O             | O          | O          |            |                        |
|                  |                                              |                                                                                                        | Order exists                                                       | O             |            | O          |            |                        |
|                  |                                              |                                                                                                        | Order status Cancelled                                             | O             |            |            |            |                        |
|                  | Input                                        |                                                                                                        |                                                                    |               |            |            |            |                        |
|                  | OrderId                                      |                                                                                                        |                                                                    | O             | O          | O          |            |                        |
| Confirm          | Return                                       |                                                                                                        |                                                                    |               |            |            |            |                        |                  |             |             |
|                  | Extend payment result                        |                                                                                                        |                                                                    |               |            |            |            |                        |                  |             |             |
|                  |                                              |                                                                                                        | Method returns true                                                | O             |            |            | O          |                        |                  |             |             |
|                  |                                              |                                                                                                        | Order status persisted as Pending                                  | O             |            |            | O          |                        |                  |             |             |
|                  |                                              |                                                                                                        | Payments reset to PendingPayment with refreshed timestamps         | O             |            |            | O          |                        |                  |             |             |
|                  |                                              |                                                                                                        | Booking hold extended ~5 minutes                                   | O             |            |            | O          |                        |                  |             |             |
|                  | Exception                                    |                                                                                                        |                                                                    |               |            |            |            |                        |                  |             |             |
|                  |                                              |                                                                                                        | ApiException: Không tìm thấy đơn hàng                              |               | O          |            |            |                        |                  |             |             |
|                  |                                              |                                                                                                        | ApiException: Chỉ có thể gia hạn thanh toán cho đơn hàng đã bị hủy |               |            | O          |            |                        |                  |             |             |
|                  | Database changes                             |                                                                                                        |                                                                    |               |            |            |            |                        |                  |             |             |
|                  |                                              |                                                                                                        | Order & payments updated to Pending                                | O             |            |            | O          |                        |                  |             |             |
|                  |                                              |                                                                                                        | Booking HoldExpiresAtUtc refreshed                                 | O             |            |            | O          |                        |                  |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                        |                                                                    | N             | A          | A          | B          |                        |                  |             |             |
|                  | Passed/Failed                                |                                                                                                        |                                                                    | P             | P          | P          | P          |                        |                  |             |             |

## FUNC_16

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                   | Unnamed: 3                                   | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11                | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------------------- | :------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC16                                                                                                       |                                              | Function Name |            |            |            | CreatePaymentForOrderAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                              |                                              | Executed By   |            |            |            | TRONGDTHE170708            |             |             |                  |
| Test requirement |                                              | Payment creation requires order+booking data and copies voucher amounts while leaving status PendingPayment. |                                              |               |            |            |            |                            |             |             |                  |
| Passed           |                                              | Failed                                                                                                       |                                              | Untested      |            |            |            | N/A/B                      |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                            |                                              | 0             |            |            |            | 1                          | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                                              |                                              | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                            |             |             |                  |
| Condition        | Precondition                                 |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  |                                              |                                                                                                              | Server connection available                  | O             | O          | O          | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | Database connection available                | O             | O          | O          | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | Occurrence exists                            | O             |            | O          | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | Occurrence status CheckedIn                  | O             |            |            |            |                            |             |             |                  |
|                  | Input                                        |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  | OrderId                                      |                                                                                                              |                                              | O             | O          | O          | O          |                            |             |             |                  |
|                  | BookingId                                    |                                                                                                              |                                              | O             |            | O          | O          |                            |             |             |                  |
|                  | BookingOccurrenceId                          |                                                                                                              |                                              | O             |            | O          | O          |                            |             |             |                  |
|                  | CustomerId                                   |                                                                                                              |                                              | O             | O          | O          | O          |                            |             |             |                  |
|                  | Amount                                       |                                                                                                              |                                              | O             | O          | O          | O          |                            |             |             |                  |
|                  | PaymentMethod                                |                                                                                                              |                                              | O             | O          | O          | O          |                            |             |             |                  |
| Confirm          | Return                                       |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  | Payment creation result                      |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  |                                              |                                                                                                              | DetailPaymentResponse returned               | O             |            |            | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | Payment status default PendingPayment        | O             |            |            | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | Amount equals request.Amount                 | O             |            |            | O          |                            |             |             |                  |
|                  |                                              |                                                                                                              | VoucherId/Discount copied from order         |               |            |            | O          |                            |             |             |                  |
|                  | Exception                                    |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  |                                              |                                                                                                              | ApiException: Không tìm thấy đơn hàng        |               | O          |            |            |                            |             |             |                  |
|                  |                                              |                                                                                                              | ApiException: Không tìm thấy đặt sân         |               |            | O          |            |                            |             |             |                  |
|                  | Database changes                             |                                                                                                              |                                              |               |            |            |            |                            |             |             |                  |
|                  |                                              |                                                                                                              | Payment row inserted linked to order/booking | O             |            |            | O          |                            |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                              |                                              | N             | A          | A          | B          |                            |             |             |                  |
|                  | Passed/Failed                                |                                                                                                              |                                              | P             | P          | P          | P          |                            |             |             |                  |

## FUNC_17

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                | Unnamed: 3                                     | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 10 | Unnamed: 11                       | Unnamed: 12      | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------------- | :--------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :---------- | :-------------------------------- | :--------------- | :---------- | :---------- |
| Function Code    |                                              | FUNC17                                                                                    |                                                | Function Name |            |            |            |            |             | ValidateAndCalculateDiscountAsync |                  |             |             |
| Created By       |                                              | TRONGDTHE170708                                                                           |                                                | Executed By   |            |            |            |            |             | TRONGDTHE170708                   |                  |             |             |
| Test requirement |                                              | Voucher validation enforces lifecycle, limits, user rules, and computes capped discounts. |                                                |               |            |            |            |            |             |                                   |                  |             |             |
| Passed           |                                              | Failed                                                                                    |                                                | Untested      |            |            |            |            |             | N/A/B                             | Total Test Cases |
| 6                |                                              | 0                                                                                         |                                                | 0             |            |            |            |            |             | 0                                 | 6                |
|                  |                                              |                                                                                           |                                                | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    | UTCID06     |                                   |                  |
| Condition        | Precondition                                 |                                                                                           |                                                |               |            |            |            |            |             |                                   |
|                  |                                              |                                                                                           | Server connection available                    | O             | O          | O          | O          | O          | O           |                                   |
|                  |                                              |                                                                                           | Database connection available                  | O             | O          | O          | O          | O          | O           |                                   |
|                  |                                              |                                                                                           | Customer exists                                | O             | O          | O          | O          | O          | O           |                                   |
|                  |                                              |                                                                                           | Voucher record exists                          | O             |            | O          | O          | O          | O           |                                   |
|                  |                                              |                                                                                           | Voucher active & within allowed window         | O             |            |            |            | O          | O           |                                   |
|                  | Input                                        |                                                                                           |                                                |               |            |            |            |            |             |                                   |
|                  | VoucherId                                    |                                                                                           |                                                | O             | O          | O          | O          | O          | O           |                                   |
|                  | OrderTotalAmount                             |                                                                                           |                                                | O             |            |            |            |            | O           |                                   |
| Confirm          | Return                                       |                                                                                           |                                                |               |            |            |            |            |             |                                   |                  |             |             |
|                  | Voucher validation response                  |                                                                                           |                                                |               |            |            |            |            |             |                                   |                  |             |             |
|                  |                                              |                                                                                           | IsValid true with DiscountAmount + FinalAmount | O             |            |            |            |            |             |                                   |                  |             |             |
|                  |                                              |                                                                                           | IsValid false with descriptive ErrorMessage    |               | O          | O          | O          | O          | O           | O                                 |                  |             |             |
|                  | Exception                                    |                                                                                           |                                                |               |            |            |            |            |             |                                   |                  |             |             |
|                  |                                              |                                                                                           | No exception (returns ValidateVoucherResponse) | O             | O          | O          | O          | O          | O           | O                                 |                  |             |             |
|                  | Database changes                             |                                                                                           |                                                |               |            |            |            |            |             |                                   |                  |             |             |
|                  |                                              |                                                                                           | No database changes (read-only validation)     | O             | O          | O          | O          | O          | O           | O                                 |                  |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                           |                                                | N             | A          | A          | A          | A          | B           | A                                 |                  |             |             |
|                  | Passed/Failed                                |                                                                                           |                                                | P             | P          | P          | P          | P          | P           | P                                 |                  |             |             |

## FUNC_18

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                   | Unnamed: 3                                   | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11             | Unnamed: 12 | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------------------- | :------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------------- | :---------- | :---------- | :---------- |
| Function Code    |                                              | FUNC18                                                                                                       |                                              | Function Name |            |            |            | RecordVoucherUsageAsync |             |             |             |
| Created By       |                                              | TRONGDTHE170708                                                                                              |                                              | Executed By   |            |            |            | TRONGDTHE170708         |             |             |             |
| Test requirement |                                              | Payment creation requires order+booking data and copies voucher amounts while leaving status PendingPayment. |                                              |               |            |            |            |                         |             |             |             |
| Passed           |                                              | Failed                                                                                                       |                                              | Untested      |            |            | N/A/B      | Total Test Cases        |
| 2                |                                              | 0                                                                                                            |                                              | 0             |            |            | 0          | 2                       |
|                  |                                              |                                                                                                              |                                              | UTCID01       | UTCID02    |            |            |                         |
| Condition        | Precondition                                 |                                                                                                              |                                              |               |            |            |            |
|                  |                                              |                                                                                                              | Server connection available                  | O             | O          |            |            |
|                  |                                              |                                                                                                              | Database connection available                | O             | O          |            |            |
|                  |                                              |                                                                                                              | Occurrence exists                            | O             |            |            |            |
|                  |                                              |                                                                                                              | Occurrence status CheckedIn                  | O             |            |            |            |
|                  | Input                                        |                                                                                                              |                                              |               |            |            |            |
|                  | VoucherId                                    |                                                                                                              |                                              | O             | O          |            |            |
|                  | CustomerId                                   |                                                                                                              |                                              | O             | O          |            |            |
|                  | BookingId                                    |                                                                                                              |                                              | O             | O          |            |            |
|                  | DiscountApplied                              |                                                                                                              |                                              | O             | O          |            |            |
| Confirm          | Return                                       |                                                                                                              |                                              |               |            |            |            |                         |             |             |             |
|                  | Payment creation result                      |                                                                                                              |                                              |               |            |            |            |                         |             |             |             |
|                  |                                              |                                                                                                              | DetailPaymentResponse returned               | O             |            |            | O          |                         |             |             |             |
|                  |                                              |                                                                                                              | Payment status default PendingPayment        | O             |            |            | O          |                         |             |             |             |
|                  |                                              |                                                                                                              | Amount equals request.Amount                 | O             |            |            | O          |                         |             |             |             |
|                  |                                              |                                                                                                              | VoucherId/Discount copied from order         |               |            |            | O          |                         |             |             |             |
|                  | Exception                                    |                                                                                                              |                                              |               |            |            |            |                         |             |             |             |
|                  |                                              |                                                                                                              | ApiException: Không tìm thấy đơn hàng        |               | O          |            |            |                         |             |             |             |
|                  |                                              |                                                                                                              | ApiException: Không tìm thấy đặt sân         |               |            | O          |            |                         |             |             |             |
|                  | Database changes                             |                                                                                                              |                                              |               |            |            |            |                         |             |             |             |
|                  |                                              |                                                                                                              | Payment row inserted linked to order/booking | O             |            |            | O          |                         |             |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                              |                                              | N             | A          | A          | B          |                         |             |             |             |
|                  | Passed/Failed                                |                                                                                                              |                                              | P             | P          | P          | P          |                         |             |             |             |

## FUNC_19

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                     | Unnamed: 3                                          | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 11     | Unnamed: 12      | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------- | :-------------------------------------------------- | :------------ | :--------- | :--------- | :-------------- | :--------------- | :---------- | :---------- |
| Function Code    |                                              | FUNC19                                                                         |                                                     | Function Name |            |            | CreateAsync     |                  |             |             |
| Created By       |                                              | TRONGDTHE170708                                                                |                                                     | Executed By   |            |            | TRONGDTHE170708 |                  |             |             |
| Test requirement |                                              | Creating memberships maps DTO fields and defaults Status to Active when blank. |                                                     |               |            |            |                 |                  |             |             |
| Passed           |                                              | Failed                                                                         |                                                     | Untested      |            |            | N/A/B           | Total Test Cases |
| 2                |                                              | 0                                                                              |                                                     | 0             |            |            | 0               | 2                |
|                  |                                              |                                                                                |                                                     | UTCID01       | UTCID02    |            |                 |                  |
| Condition        | Precondition                                 |                                                                                |                                                     |               |            |            |                 |                  |
|                  |                                              |                                                                                | Server connection available                         | O             | O          |            |                 |                  |
|                  |                                              |                                                                                | Database connection available                       | O             | O          |            |                 |                  |
|                  |                                              |                                                                                | Request payload valid                               | O             | O          |            |                 |                  |
|                  | Input                                        |                                                                                |                                                     |               |            |            |                 |                  |
|                  | Name                                         |                                                                                |                                                     | O             | O          |            |                 |                  |
|                  | Price                                        |                                                                                |                                                     | O             | O          |            |                 |                  |
|                  | DiscountPercent                              |                                                                                |                                                     | O             | O          |            |                 |                  |
|                  | Description                                  |                                                                                |                                                     | O             | O          |            |                 |                  |
|                  | DurationDays                                 |                                                                                |                                                     | O             | O          |            |                 |                  |
|                  | Status                                       |                                                                                |                                                     | O             |            |            |                 |                  |
| Confirm          | Return                                       |                                                                                |                                                     |               |            |            |                 |                  |             |             |
|                  | Create membership result                     |                                                                                |                                                     |               |            |            |                 |                  |             |             |
|                  |                                              |                                                                                | Task completes without exception                    | O             | O          | O          |                 |                  |             |             |
|                  |                                              |                                                                                | Membership saved with provided Name/Price/Duration  | O             | O          | O          |                 |                  |             |             |
|                  |                                              |                                                                                | Status defaults to Active when request.Status blank |               | O          |            |                 |                  |             |             |
|                  | Exception                                    |                                                                                |                                                     |               |            |            |                 |                  |             |             |
|                  |                                              |                                                                                | No exception expected                               | O             | O          | O          |                 |                  |             |             |
|                  | Database changes                             |                                                                                |                                                     |               |            |            |                 |                  |             |             |
|                  |                                              |                                                                                | Membership row inserted                             | O             | O          | O          |                 |                  |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                |                                                     | N             | B          | N          |                 |                  |             |             |
|                  | Passed/Failed                                |                                                                                |                                                     | P             | P          | P          |                 |                  |             |             |

## FUNC_20

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                     | Unnamed: 3                               | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11       | Unnamed: 12 | Unnamed: 13 | Unnamed: 14 |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------- | :--------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------- | :---------- | :---------- | :---------- |
| Function Code    |                                              | FUNC20                                                                         |                                          | Function Name |            |            |            | UpdateStatusAsync |             |             |             |
| Created By       |                                              | TRONGDTHE170708                                                                |                                          | Executed By   |            |            |            | TRONGDTHE170708   |             |             |             |
| Test requirement |                                              | Creating memberships maps DTO fields and defaults Status to Active when blank. |                                          |               |            |            |            |                   |             |             |             |
| Passed           |                                              | Failed                                                                         |                                          | Untested      |            |            | N/A/B      | Total Test Cases  |
| 3                |                                              | 0                                                                              |                                          | 0             |            |            | 0          | 3                 |
|                  |                                              |                                                                                |                                          | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                   |             |             |             |
| Condition        | Precondition                                 |                                                                                |                                          |               |            |            |            |                   |             |             |             |
|                  |                                              |                                                                                | Server connection available              | O             | O          | O          | O          |                   |             |             |             |
|                  |                                              |                                                                                | Database connection available            | O             | O          | O          | O          |                   |             |             |             |
|                  |                                              |                                                                                | Membership exists                        | O             |            | O          | O          |                   |             |             |             |
|                  |                                              |                                                                                | Requested status allowed                 | O             |            |            | O          |                   |             |             |             |
|                  | Input                                        |                                                                                |                                          |               |            |            |            |                   |
|                  | Id                                           |                                                                                |                                          | O             | O          | O          | O          |                   |
|                  | Status                                       |                                                                                |                                          | O             |            | O          | O          |                   |
| Confirm          | Return                                       |                                                                                |                                          |               |            |            |            |                   |             |             |             |
|                  | Update membership status result              |                                                                                |                                          |               |            |            |            |                   |             |             |             |
|                  |                                              |                                                                                | Status updated successfully              | O             |            |            | O          |                   |             |             |             |
|                  | Exception                                    |                                                                                |                                          |               |            |            |            |                   |             |             |             |
|                  |                                              |                                                                                | ApiException: Gói hội viên không tồn tại |               | O          |            |            |                   |             |             |             |
|                  |                                              |                                                                                | ApiException: Trạng thái không hợp lệ    |               |            | O          |            |                   |             |             |             |
|                  | Database changes                             |                                                                                |                                          |               |            |            |            |                   |             |             |             |
|                  |                                              |                                                                                | Membership status persisted              | O             |            |            | O          |                   |             |             |             |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                |                                          | N             | A          | A          | B          |                   |             |             |             |
|                  | Passed/Failed                                |                                                                                |                                          | P             | P          | P          | P          |                   |             |             |             |

## FUNC_21

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                                                            | Unnamed: 3                                                       | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11               | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------ | :--------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :------------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC21                                                                                                                                |                                                                  | Function Name |            |            |            |            | CreateForCurrentUserAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                                                       |                                                                  | Executed By   |            |            |            |            | TRONGDTHE170708           |             |             |                  |
| Test requirement |                                              | Self-service membership purchase requires authentication, auto-creates customer if needed, blocks overlaps, and issues bank payments. |                                                                  |               |            |            |            |            |                           |             |             |                  |
| Passed           |                                              | Failed                                                                                                                                |                                                                  | Untested      |            |            |            |            | N/A/B                     |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                                                     |                                                                  | 0             |            |            |            |            | 1                         | 3.0         | 1.0         | 5                |
|                  |                                              |                                                                                                                                       |                                                                  | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                           |             |             |                  |
| Condition        | Precondition                                 |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | User authenticated                                               | O             | O          | O          |            | O          |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | Membership exists & Active                                       | O             | O          | O          | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | No unexpired membership for customer                             | O             | O          |            | O          | O          |                           |             |             |                  |
|                  | Input                                        |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  | MembershipId                                 |                                                                                                                                       |                                                                  | O             | O          | O          | O          | O          |                           |             |             |                  |
|                  | IsActive                                     |                                                                                                                                       |                                                                  | O             | O          | O          | O          | O          |                           |             |             |                  |
| Confirm          | Return                                       |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  | Self-service membership result               |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | CreateUserMembershipResponse returned with payment info          | O             | O          |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | Customer auto-created when missing                               |               | O          |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | Payment method forced Bank with QR hold window                   | O             | O          |            |            |            |                           |             |             |                  |
|                  | Exception                                    |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | ApiException: Khách hàng đang có gói hội viên còn hiệu lực       |               |            | O          |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | ApiException: Không tìm thấy thông tin người dùng / Unauthorized |               |            |            | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | ApiException: Gói hội viên không tồn tại                         |               |            |            |            | O          |                           |             |             |                  |
|                  | Database changes                             |                                                                                                                                       |                                                                  |               |            |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | Customer record inserted when absent                             |               | O          |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                                                       | UserMembership & payment created                                 | O             | O          |            |            |            |                           |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                                                       |                                                                  | N             | B          | A          | A          | A          |                           |             |             |                  |
|                  | Passed/Failed                                |                                                                                                                                       |                                                                  | P             | P          | P          | P          | P          |                           |             |             |                  |

## FUNC_22

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                            | Unnamed: 3                                         | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11        | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------------------------- | :------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :----------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC22                                                                                                |                                                    | Function Name |            |            |            | ExtendPaymentAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                                       |                                                    | Executed By   |            |            |            | TRONGDTHE170708    |             |             |                  |
| Test requirement |                                              | Extending membership payment is only allowed for unpaid memberships and issues a new bank QR payment. |                                                    |               |            |            |            |                    |             |             |                  |
| Passed           |                                              | Failed                                                                                                |                                                    | Untested      |            |            |            | N/A/B              |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                     |                                                    | 0             |            |            |            | 1                  | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                                       |                                                    | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                    |             |             |                  |
| Condition        | Precondition                                 |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  |                                              |                                                                                                       | Server connection available                        | O             | O          | O          | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | Database connection available                      | O             | O          | O          | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | UserMembership exists                              | O             |            | O          | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | Membership not already Paid                        | O             |            |            | O          |                    |             |             |                  |
|                  | Input                                        |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  | UserMembershipId                             |                                                                                                       |                                                    | O             | O          | O          | O          |                    |             |             |                  |
|                  | Note                                         |                                                                                                       |                                                    | O             |            |            | O          |                    |             |             |                  |
| Confirm          | Return                                       |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  | Extend membership payment result             |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  |                                              |                                                                                                       | Response returned with new payment info            | O             |            |            | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | Status reset to PendingPayment with IsActive=false | O             |            |            | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | QR link & hold minutes populated                   | O             |            |            | O          |                    |             |             |                  |
|                  | Exception                                    |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  |                                              |                                                                                                       | ApiException: Thông tin hội viên không tồn tại     |               | O          |            |            |                    |             |             |                  |
|                  |                                              |                                                                                                       | ApiException: Hội viên đã được thanh toán.         |               |            | O          |            |                    |             |             |                  |
|                  | Database changes                             |                                                                                                       |                                                    |               |            |            |            |                    |             |             |                  |
|                  |                                              |                                                                                                       | UserMembership status/isActive updated             | O             |            |            | O          |                    |             |             |                  |
|                  |                                              |                                                                                                       | New payment created via PaymentService             | O             |            |            | O          |                    |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                       |                                                    | N             | A          | A          | B          |                    |             |             |                  |
|                  | Passed/Failed                                |                                                                                                       |                                                    | P             | P          | P          | P          |                    |             |             |                  |

## FUNC_23

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                        | Unnamed: 3                                        | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11      | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------- | :------------------------------------------------ | :------------ | :--------- | :--------- | :--------- | :--------- | :--------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC23                                                                            |                                                   | Function Name |            |            |            |            | CreateStaffAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                    |                                                   | Executed By   |            |            |            |            | DUNGNVHE182057   |             |             |                  |
| Test requirement |                                              | Creating staff enforces unique identification/phone and maps DTO -> Staff entity. |                                                   |               |            |            |            |            |                  |             |             |                  |
| Passed           |                                              | Failed                                                                            |                                                   | Untested      |            |            |            |            | N/A/B            |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                 |                                                   | 0             |            |            |            |            | 2                | 2.0         | 1.0         | 5                |
|                  |                                              |                                                                                   |                                                   | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                  |             |             |                  |
| Condition        | Precondition                                 |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                   | Server connection available                       | O             | O          | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                   | Database connection available                     | O             | O          | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                   | IdentificationNumber unique                       | O             |            | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                   | PhoneNumber unique                                | O             | O          |            | O          | O          |                  |             |             |                  |
|                  | Input                                        |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  | FullName                                     |                                                                                   |                                                   | O             | O          | O          | O          | O          |                  |             |             |                  |
|                  | IdentificationNumber                         |                                                                                   |                                                   | O             | O          | O          | O          | O          |                  |             |             |                  |
|                  | PhoneNumber                                  |                                                                                   |                                                   | O             | O          | O          | O          | O          |                  |             |             |                  |
|                  | Address                                      |                                                                                   |                                                   | O             | O          | O          | O          | O          |                  |             |             |                  |
| Confirm          | Return                                       |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  | Create staff result                          |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                   | Task completes without exception                  | O             |            |            | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                   | Staff entity persisted with mapped fields         | O             |            |            | O          | O          |                  |             |             |                  |
|                  | Exception                                    |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                   | ApiException: CCCD '...' đã được sử dụng          |               | O          |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                   | ApiException: Số điện thoại '...' đã được sử dụng |               |            | O          |            |            |                  |             |             |                  |
|                  | Database changes                             |                                                                                   |                                                   |               |            |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                   | New Staff row inserted                            | O             |            |            | O          | O          |                  |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                   |                                                   | N             | A          | A          | B          | N          |                  |             |             |                  |
|                  | Passed/Failed                                |                                                                                   |                                                   | P             | P          | P          | P          | P          |                  |             |             |                  |

## FUNC_24

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                             | Unnamed: 3                                 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11            | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------- | :----------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC24                                                                                 |                                            | Function Name |            |            |            | ChangeStaffStatusAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                         |                                            | Executed By   |            |            |            | DUNGNVHE182057         |             |             |                  |
| Test requirement |                                              | Updating staff active flag requires existing staff and toggles IsActive appropriately. |                                            |               |            |            |            |                        |             |             |                  |
| Passed           |                                              | Failed                                                                                 |                                            | Untested      |            |            |            | N/A/B                  |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                      |                                            | 0             |            |            |            | 2                      | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                        |                                            | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                        |             |             |                  |
| Condition        | Precondition                                 |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                        | Server connection available                | O             | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                        | Database connection available              | O             | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                        | Staff exists                               | O             |            | O          | O          |                        |             |             |                  |
|                  | Input                                        |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  | StaffId                                      |                                                                                        |                                            | O             | O          | O          | O          |                        |             |             |                  |
|                  | IsActive                                     |                                                                                        |                                            | O             |            | O          | O          |                        |             |             |                  |
| Confirm          | Return                                       |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  | Status change result                         |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                        | Task completes without exception           | O             |            | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                        | Staff.IsActive updated to request.IsActive | O             |            | O          | O          |                        |             |             |                  |
|                  | Exception                                    |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                        | ApiException: Nhân viên ... không tồn tại  |               | O          |            |            |                        |             |             |                  |
|                  | Database changes                             |                                                                                        |                                            |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                        | Staff row IsActive field updated           | O             |            | O          | O          |                        |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                        |                                            | N             | A          | B          | N          |                        |             |             |                  |
|                  | Passed/Failed                                |                                                                                        |                                            | P             | P          | P          | P          |                        |             |             |                  |

## FUNC_25

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                 | Unnamed: 3                                | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11             | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------- | :---------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC25                                                                                     |                                           | Function Name |            |            |            | AssignShiftToStaffAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                             |                                           | Executed By   |            |            |            | DUNGNVHE182057          |             |             |                  |
| Test requirement |                                              | Assigning shift to staff saves Schedule entries (fixed or ad-hoc) for the requested range. |                                           |               |            |            |            |                         |             |             |                  |
| Passed           |                                              | Failed                                                                                     |                                           | Untested      |            |            |            | N/A/B                   |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                          |                                           | 0             |            |            |            | 2                       | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                            |                                           | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                         |             |             |                  |
| Condition        | Precondition                                 |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                            | Server connection available               | O             | O          | O          | O          |                         |             |             |                  |
|                  |                                              |                                                                                            | Database connection available             | O             | O          | O          | O          |                         |             |             |                  |
|                  | Input                                        |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  | StaffId                                      |                                                                                            |                                           | O             | O          | O          | O          |                         |             |             |                  |
|                  | ShiftId                                      |                                                                                            |                                           | O             | O          | O          | O          |                         |             |             |                  |
|                  | StartDate                                    |                                                                                            |                                           | O             | O          | O          | O          |                         |             |             |                  |
|                  | EndDate                                      |                                                                                            |                                           | O             |            | O          | O          |                         |             |             |                  |
|                  | IsFixedShift                                 |                                                                                            |                                           | O             | O          | O          | O          |                         |             |             |                  |
| Confirm          | Return                                       |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  | Assign shift result                          |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                            | Method returns true when insert succeeds  | O             | O          | O          |            |                         |             |             |                  |
|                  | Exception                                    |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                            | Constraint violation (FK) -> failure path |               |            |            | O          |                         |             |             |                  |
|                  | Database changes                             |                                                                                            |                                           |               |            |            |            |                         |             |             |                  |
|                  |                                              |                                                                                            | Schedule row inserted                     | O             | O          | O          |            |                         |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                            |                                           | N             | B          | N          | A          |                         |             |             |                  |
|                  | Passed/Failed                                |                                                                                            |                                           | P             | P          | P          | P          |                         |             |             |                  |

## FUNC_26

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                          | Unnamed: 3                                    | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11               | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------------- | :-------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC26                                                                                              |                                               | Function Name |            |            |            | RemoveStaffFromShiftAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                                      |                                               | Executed By   |            |            |            | DUNGNVHE182057            |             |             |                  |
| Test requirement |                                              | Removing staff from shift deletes matching schedule or records CancelledShift when entry not found. |                                               |               |            |            |            |                           |             |             |                  |
| Passed           |                                              | Failed                                                                                              |                                               | Untested      |            |            |            | N/A/B                     |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                   |                                               | 0             |            |            |            | 2                         | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                                     |                                               | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                           |             |             |                  |
| Condition        | Precondition                                 |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | Server connection available                   | O             | O          | O          | O          |                           |             |             |                  |
|                  |                                              |                                                                                                     | Database connection available                 | O             | O          | O          | O          |                           |             |             |                  |
|                  | Input                                        |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  | StaffId                                      |                                                                                                     |                                               | O             | O          | O          | O          |                           |             |             |                  |
|                  | ShiftId                                      |                                                                                                     |                                               | O             | O          | O          | O          |                           |             |             |                  |
|                  | Date                                         |                                                                                                     |                                               | O             | O          | O          | O          |                           |             |             |                  |
| Confirm          | Return                                       |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  | Remove shift result                          |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | Method returns true when SaveChanges>0        | O             | O          | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | Schedule deleted when exists                  | O             |            | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | CancelledShift inserted when schedule missing |               | O          | O          |            |                           |             |             |                  |
|                  | Exception                                    |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | DbUpdateException (FK) on invalid references  |               |            |            | O          |                           |             |             |                  |
|                  | Database changes                             |                                                                                                     |                                               |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | Schedule row removed                          | O             |            | O          |            |                           |             |             |                  |
|                  |                                              |                                                                                                     | CancelledShift row inserted                   |               | O          | O          |            |                           |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                     |                                               | N             | B          | N          | A          |                           |             |             |                  |
|                  | Passed/Failed                                |                                                                                                     |                                               | P             | P          | P          | P          |                           |             |             |                  |

## FUNC_27

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                             | Unnamed: 3                                                      | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11      | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :--------------------------------------------------------------------- | :-------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC27                                                                 |                                                                 | Function Name |            |            |            | CreateShiftAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                         |                                                                 | Executed By   |            |            |            | DUNGNVHE182057   |             |             |                  |
| Test requirement |                                              | Creating shift enforces non-overlapping time ranges before persisting. |                                                                 |               |            |            |            |                  |             |             |                  |
| Passed           |                                              | Failed                                                                 |                                                                 | Untested      |            |            |            | N/A/B            |             |             | Total Test Cases |
| 4                |                                              | 0                                                                      |                                                                 | 0             |            |            |            | 1                | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                        |                                                                 | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                  |             |             |                  |
| Condition        | Precondition                                 |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                        | Server connection available                                     | O             | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                        | Database connection available                                   | O             | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                        | Requested time range does not overlap existing                  | O             |            |            | O          |                  |             |             |                  |
|                  | Input                                        |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  | StartTime                                    |                                                                        |                                                                 | O             | O          | O          | O          |                  |             |             |                  |
|                  | EndTime                                      |                                                                        |                                                                 | O             | O          | O          | O          |                  |             |             |                  |
| Confirm          | Return                                       |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  | Create shift result                          |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                        | Shift persisted successfully                                    | O             |            |            | O          |                  |             |             |                  |
|                  | Exception                                    |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                        | ApiException: Lỗi: Thời gian làm việc bị trùng.                 |               | O          |            |            |                  |             |             |                  |
|                  |                                              |                                                                        | ApiException: Lỗi: Thời gian làm việc bị trùng. (zero duration) |               |            | O          |            |                  |             |             |                  |
|                  | Database changes                             |                                                                        |                                                                 |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                        | Shift row inserted                                              | O             |            |            | O          |                  |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                        |                                                                 | N             | A          | A          | B          |                  |             |             |                  |
|                  | Passed/Failed                                |                                                                        |                                                                 | P             | P          | P          | P          |                  |             |             |                  |

## FUNC_28

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                              | Unnamed: 3                                  | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 11      | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------- | :------------------------------------------ | :------------ | :--------- | :--------- | :--------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC28                                                                  |                                             | Function Name |            |            | DeleteShiftAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                          |                                             | Executed By   |            |            | DUNGNVHE182057   |             |             |                  |
| Test requirement |                                              | Deleting shift requires existing record; otherwise ApiException thrown. |                                             |               |            |            |                  |             |             |                  |
| Passed           |                                              | Failed                                                                  |                                             | Untested      |            |            | N/A/B            |             |             | Total Test Cases |
| 3                |                                              | 0                                                                       |                                             | 0             |            |            | 1                | 1.0         | 1.0         | 3                |
|                  |                                              |                                                                         |                                             | UTCID01       | UTCID02    | UTCID03    |                  |             |             |                  |
| Condition        | Precondition                                 |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  |                                              |                                                                         | Server connection available                 | O             | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                         | Database connection available               | O             | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                         | Shift exists for delete request             | O             |            | O          |                  |             |             |                  |
|                  | Input                                        |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  | ShiftId                                      |                                                                         |                                             | O             | O          | O          |                  |             |             |                  |
| Confirm          | Return                                       |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  | Delete shift result                          |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  |                                              |                                                                         | Task completes without exception            | O             |            | O          |                  |             |             |                  |
|                  | Exception                                    |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  |                                              |                                                                         | ApiException: Ca làm việc ... không tồn tại |               | O          |            |                  |             |             |                  |
|                  | Database changes                             |                                                                         |                                             |               |            |            |                  |             |             |                  |
|                  |                                              |                                                                         | Shift row removed                           | O             |            | O          |                  |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                         |                                             | N             | A          | B          |                  |             |             |                  |
|                  | Passed/Failed                                |                                                                         |                                             | P             | P          | P          |                  |             |             |                  |

## FUNC_29

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                       | Unnamed: 3                                                 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11    | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------- | :--------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC29                                                                                           |                                                            | Function Name |            |            |            | CheckInAsync   |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                                   |                                                            | Executed By   |            |            |            | DUNGNVHE182057 |             |             |                  |
| Test requirement |                                              | Checking in creates or updates attendance record for today with CheckInTime and clears CheckOut. |                                                            |               |            |            |            |                |             |             |                  |
| Passed           |                                              | Failed                                                                                           |                                                            | Untested      |            |            |            | N/A/B          |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                |                                                            | 0             |            |            |            | 2              | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                                  |                                                            | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                |             |             |                  |
| Condition        | Precondition                                 |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                  | Server connection available                                | O             | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                  | Database connection available                              | O             | O          | O          | O          |                |             |             |                  |
|                  | Input                                        |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  | StaffId                                      |                                                                                                  |                                                            | O             | O          | O          | O          |                |             |             |                  |
| Confirm          | Return                                       |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  | Check-in result                              |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                  | Method returns true when SaveChanges>0                     | O             | O          | O          |            |                |             |             |                  |
|                  |                                              |                                                                                                  | Attendance record CheckInTime set to now, CheckOut cleared | O             | O          | O          |            |                |             |             |                  |
|                  | Exception                                    |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                  | DbUpdateException (invalid FK)                             |               |            |            | O          |                |             |             |                  |
|                  | Database changes                             |                                                                                                  |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                  | AttendanceRecord inserted or updated for today             | O             | O          | O          |            |                |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                  |                                                            | N             | B          | N          | A          |                |             |             |                  |
|                  | Passed/Failed                                |                                                                                                  |                                                            | P             | P          | P          | P          |                |             |             |                  |

## FUNC_30

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                              | Unnamed: 3                                                 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11    | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------ | :--------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC30                                                                                                  |                                                            | Function Name |            |            |            | CheckOutAsync  |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                                          |                                                            | Executed By   |            |            |            | DUNGNVHE182057 |             |             |                  |
| Test requirement |                                              | Checkout updates today attendance record only when a prior check-in exists and not already checked out. |                                                            |               |            |            |            |                |             |             |                  |
| Passed           |                                              | Failed                                                                                                  |                                                            | Untested      |            |            |            | N/A/B          |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                                       |                                                            | 0             |            |            |            | 1              | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                                         |                                                            | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                |             |             |                  |
| Condition        | Precondition                                 |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                         | Server connection available                                | O             | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                         | Database connection available                              | O             | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                         | Attendance record for today exists                         | O             |            | O          |            |                |             |             |                  |
|                  | Input                                        |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  | StaffId                                      |                                                                                                         |                                                            | O             | O          | O          | O          |                |             |             |                  |
| Confirm          | Return                                       |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  | Checkout result                              |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                         | Method returns true and CheckOutTime set when applicable   | O             |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                         | Method returns false when no record or already checked out |               | O          | O          |            |                |             |             |                  |
|                  | Exception                                    |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                         | DbUpdateException on invalid staffId                       |               |            |            | O          |                |             |             |                  |
|                  | Database changes                             |                                                                                                         |                                                            |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                         | AttendanceRecord updated with CheckOutTime                 | O             |            |            |            |                |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                         |                                                            | N             | A          | B          | A          |                |             |             |                  |
|                  | Passed/Failed                                |                                                                                                         |                                                            | P             | P          | P          | P          |                |             |             |                  |

## FUNC_31

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                              | Unnamed: 3                                              | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11                     | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------ | :------------ | :--------- | :--------- | :--------- | :--------- | :------------------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC31                                                                                                  |                                                         | Function Name |            |            |            |            | CreateInventoryCardForSaleAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                                          |                                                         | Executed By   |            |            |            |            | DUNGNVHE182057                  |             |             |                  |
| Test requirement |                                              | Sale inventory cards deduct stock for managed products and reject missing/insufficient stock scenarios. |                                                         |               |            |            |            |            |                                 |             |             |                  |
| Passed           |                                              | Failed                                                                                                  |                                                         | Untested      |            |            |            |            | N/A/B                           |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                                       |                                                         | 0             |            |            |            |            | 1                               | 3.0         | 1.0         | 5                |
|                  |                                              |                                                                                                         |                                                         | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                                 |             |             |                  |
| Condition        | Precondition                                 |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Server connection available                             | O             | O          | O          | O          | O          |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Database connection available                           | O             | O          | O          | O          | O          |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product exists                                          | O             |            | O          | O          | O          |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product manages inventory                               | O             |            |            | O          | O          |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Stock sufficient for quantity sold                      | O             |            | O          | O          |            |                                 |             |             |                  |
|                  | Input                                        |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  | Sale scenario                                |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product#101 sells 3 units (update stock)                | O             |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | ProductId not found                                     |               | O          |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product does not manage inventory                       |               |            | O          |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | UpdateProductStock=false (no deduction)                 |               |            |            | O          |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Quantity larger than available stock                    |               |            |            |            | O          |                                 |             |             |                  |
| Confirm          | Return                                       |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  | Expected result                              |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Response contains negative QuantityChange & EndingStock | O             |            |            | O          |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product stock decreased when UpdateProductStock true    | O             |            |            |            |            |                                 |             |             |                  |
|                  | Exception                                    |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | ApiException: Sản phẩm không tồn tại                    |               | O          |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | ApiException: Sản phẩm không quản lý tồn kho            |               |            | O          |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | ApiException: Không đủ tồn kho để bán                   |               |            |            |            | O          |                                 |             |             |                  |
|                  | Database changes                             |                                                                                                         |                                                         |               |            |            |            |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | InventoryCard row inserted                              | O             |            |            | O          |            |                                 |             |             |                  |
|                  |                                              |                                                                                                         | Product stock updated                                   | O             |            |            |            |            |                                 |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                         |                                                         | N             | A          | A          | B          | A          |                                 |             |             |                  |
|                  | Passed/Failed                                |                                                                                                         |                                                         | P             | P          | P          | P          | P          |                                 |             |             |                  |

## FUNC_32

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                            | Unnamed: 3                                           | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11                         | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :------------------------------------------------------------------------------------ | :--------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :---------------------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC32                                                                                |                                                      | Function Name |            |            |            | CreateInventoryCardForPurchaseAsync |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                        |                                                      | Executed By   |            |            |            | DUNGNVHE182057                      |             |             |                  |
| Test requirement |                                              | Purchase inventory cards add stock for managed products and ensure product existence. |                                                      |               |            |            |            |                                     |             |             |                  |
| Passed           |                                              | Failed                                                                                |                                                      | Untested      |            |            |            | N/A/B                               |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                     |                                                      | 0             |            |            |            | 2                                   | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                       |                                                      | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                                     |             |             |                  |
| Condition        | Precondition                                 |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  |                                              |                                                                                       | Server connection available                          | O             | O          | O          | O          |                                     |             |             |                  |
|                  |                                              |                                                                                       | Database connection available                        | O             | O          | O          | O          |                                     |             |             |                  |
|                  |                                              |                                                                                       | Product exists                                       | O             |            | O          | O          |                                     |             |             |                  |
|                  | Input                                        |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  | ProductId                                    |                                                                                       |                                                      | O             | O          | O          | O          |                                     |             |             |                  |
|                  | QuantityChange                               |                                                                                       |                                                      | O             |            | O          | O          |                                     |             |             |                  |
|                  | UpdateProductStock                           |                                                                                       |                                                      | O             |            | O          |            |                                     |             |             |                  |
|                  | Note                                         |                                                                                       |                                                      | O             |            | O          | O          |                                     |             |             |                  |
| Confirm          | Return                                       |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  | Expected result                              |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  |                                              |                                                                                       | Inventory card recorded with positive QuantityChange | O             |            | O          | O          |                                     |             |             |                  |
|                  |                                              |                                                                                       | Product stock increased when UpdateProductStock true | O             |            |            |            |                                     |             |             |                  |
|                  | Exception                                    |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  |                                              |                                                                                       | ApiException: Sản phẩm không tồn tại                 |               | O          |            |            |                                     |             |             |                  |
|                  | Database changes                             |                                                                                       |                                                      |               |            |            |            |                                     |             |             |                  |
|                  |                                              |                                                                                       | InventoryCard row inserted                           | O             |            | O          | O          |                                     |             |             |                  |
|                  |                                              |                                                                                       | Product stock updated                                | O             |            |            |            |                                     |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                       |                                                      | N             | A          | N          | B          |                                     |             |             |                  |
|                  | Passed/Failed                                |                                                                                       |                                                      | P             | P          | P          | P          |                                     |             |             |                  |

## FUNC_33

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                      | Unnamed: 3                                                        | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11    | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------------------- | :---------------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC33                                                                                          |                                                                   | Function Name |            |            |            | CompleteAsync  |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                                                                  |                                                                   | Executed By   |            |            |            | DUNGNVHE182057 |             |             |                  |
| Test requirement |                                              | Completing stock-out documents only allowed from Draft and must deduct inventory/create checks. |                                                                   |               |            |            |            |                |             |             |                  |
| Passed           |                                              | Failed                                                                                          |                                                                   | Untested      |            |            |            | N/A/B          |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                               |                                                                   | 0             |            |            |            | 1              | 2.0         | 1.0         | 4                |
|                  |                                              |                                                                                                 |                                                                   | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                |             |             |                  |
| Condition        | Precondition                                 |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                 | Server connection available                                       | O             | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                 | Database connection available                                     | O             | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                 | Stock-out exists                                                  | O             |            | O          | O          |                |             |             |                  |
|                  |                                              |                                                                                                 | Stock-out status Draft                                            | O             | O          |            | O          |                |             |             |                  |
|                  | Input                                        |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  | StockOutId                                   |                                                                                                 |                                                                   | O             | O          | O          | O          |                |             |             |                  |
| Confirm          | Return                                       |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  | Expected result                              |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                 | Status updated to Completed                                       | O             |            |            | O          |                |             |             |                  |
|                  |                                              |                                                                                                 | ProcessStockOutCompletion executed                                | O             |            |            | O          |                |             |             |                  |
|                  | Exception                                    |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                 | ArgumentException: Stock out not found                            |               | O          |            |            |                |             |             |                  |
|                  |                                              |                                                                                                 | InvalidOperationException: Only draft stock outs can be completed |               |            | O          |            |                |             |             |                  |
|                  | Database changes                             |                                                                                                 |                                                                   |               |            |            |            |                |             |             |                  |
|                  |                                              |                                                                                                 | InventoryCards + product stock decremented                        | O             |            |            | O          |                |             |             |                  |
|                  |                                              |                                                                                                 | InventoryCheck auto-generated                                     | O             |            |            | O          |                |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                                 |                                                                   | N             | A          | A          | B          |                |             |             |                  |
|                  | Passed/Failed                                |                                                                                                 |                                                                   | P             | P          | P          | P          |                |             |             |                  |

## FUNC_34

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                             | Unnamed: 3                                                | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11    | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------- | :-------------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC34                                                 |                                                           | Function Name |            |            |            |            | CompleteAsync  |             |             |                  |
| Created By       |                                              | DUNGNVHE182057                                         |                                                           | Executed By   |            |            |            |            | DUNGNVHE182057 |             |             |                  |
| Test requirement |                                              | Complete returned goods inspection and restock/refund. |                                                           |               |            |            |            |            |                |             |             |                  |
| Passed           |                                              | Failed                                                 |                                                           | Untested      |            |            |            |            | N/A/B          |             |             | Total Test Cases |
| 5                |                                              | 0                                                      |                                                           | 0             |            |            |            |            | 1              | 3.0         | 1.0         | 5                |
|                  |                                              |                                                        |                                                           | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                |             |             |                  |
| Condition        | Precondition                                 |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  |                                              |                                                        | Server connection available                               | O             | O          | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                        | Database connection available                             | O             | O          | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                        | Return goods exists                                       | O             |            | O          | O          | O          |                |             |             |                  |
|                  |                                              |                                                        | Return goods status Draft                                 | O             |            |            | O          | O          |                |             |             |                  |
|                  | Input                                        |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  | ReturnGoodsId                                |                                                        |                                                           | O             | O          | O          | O          | O          |                |             |             |                  |
|                  | PaymentMethod                                |                                                        |                                                           | O             |            |            | O          |            |                |             |             |                  |
| Confirm          | Return                                       |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  | Expected result                              |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  |                                              |                                                        | Status set to Completed & SupplierPaid defaulted for cash | O             |            |            | O          |            |                |             |             |                  |
|                  |                                              |                                                        | Stock deducted + inventory cards created                  | O             |            |            | O          |            |                |             |             |                  |
|                  |                                              |                                                        | Cashflow entry created for supplier payment               | O             |            |            | O          |            |                |             |             |                  |
|                  | Exception                                    |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  |                                              |                                                        | ApiException: Không tìm thấy phiếu trả hàng               |               | O          |            |            |            |                |             |             |                  |
|                  |                                              |                                                        | ApiException: Chỉ có thể hoàn thành phiếu nháp            |               |            | O          |            |            |                |             |             |                  |
|                  |                                              |                                                        | ApiException: Không tìm thấy sản phẩm                     |               |            |            |            | O          |                |             |             |                  |
|                  | Database changes                             |                                                        |                                                           |               |            |            |            |            |                |             |             |                  |
|                  |                                              |                                                        | ReturnGoods status/payment & cashflow updated             | O             |            |            | O          |            |                |             |             |                  |
|                  |                                              |                                                        | InventoryCards + product stock adjustments                | O             |            |            | O          |            |                |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                        |                                                           | N             | A          | A          | B          | A          |                |             |             |                  |
|                  | Passed/Failed                                |                                                        |                                                           | P             | P          | P          | P          | P          |                |             |             |                  |

## FUNC_35

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                    | Unnamed: 3                                       | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11      | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------- | :----------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC35                                                                                        |                                                  | Function Name |            |            |            | SetProductsAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                               |                                                  | Executed By   |            |            |            | TRONGDTHE170708  |             |             |                  |
| Test requirement |                                              | Assigning products to price tables validates table existence and ignores unknown product IDs. |                                                  |               |            |            |            |                  |             |             |                  |
| Passed           |                                              | Failed                                                                                        |                                                  | Untested      |            |            |            | N/A/B            |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                             |                                                  | 0             |            |            |            | 2                | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                               |                                                  | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                  |             |             |                  |
| Condition        | Precondition                                 |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                               | Server connection available                      | O             | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                               | Database connection available                    | O             | O          | O          | O          |                  |             |             |                  |
|                  |                                              |                                                                                               | Price table exists                               | O             |            | O          | O          |                  |             |             |                  |
|                  | Input                                        |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  | PriceTableId                                 |                                                                                               |                                                  | O             | O          | O          | O          |                  |             |             |                  |
|                  | ProductIds                                   |                                                                                               |                                                  | O             |            | O          | O          |                  |             |             |                  |
|                  | Prices                                       |                                                                                               |                                                  | O             |            | O          |            |                  |             |             |                  |
| Confirm          | Return                                       |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  | Expected result                              |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                               | PriceTableProducts replaced according to payload | O             |            | O          | O          |                  |             |             |                  |
|                  | Exception                                    |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                               | ArgumentException: Bảng giá không tồn tại        |               | O          |            |            |                  |             |             |                  |
|                  | Database changes                             |                                                                                               |                                                  |               |            |            |            |                  |             |             |                  |
|                  |                                              |                                                                                               | PriceTableProducts table updated                 | O             |            | O          | O          |                  |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                               |                                                  | N             | A          | B          | N          |                  |             |             |                  |
|                  | Passed/Failed                                |                                                                                               |                                                  | P             | P          | P          | P          |                  |             |             |                  |

## FUNC_36

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                | Unnamed: 3                                            | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 9 | Unnamed: 11            | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------------- | :---------------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------- | :--------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC36                                                                                    |                                                       | Function Name |            |            |            |            | AddBookingServiceAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                           |                                                       | Executed By   |            |            |            |            | TRONGDTHE170708        |             |             |                  |
| Test requirement |                                              | Adding booking services requires active service, checked-in occurrence, and enough stock. |                                                       |               |            |            |            |            |                        |             |             |                  |
| Passed           |                                              | Failed                                                                                    |                                                       | Untested      |            |            |            |            | N/A/B                  |             |             | Total Test Cases |
| 5                |                                              | 0                                                                                         |                                                       | 0             |            |            |            |            | 1                      | 3.0         | 1.0         | 5                |
|                  |                                              |                                                                                           |                                                       | UTCID01       | UTCID02    | UTCID03    | UTCID04    | UTCID05    |                        |             |             |                  |
| Condition        | Precondition                                 |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | Server connection available                           | O             | O          | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Database connection available                         | O             | O          | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Service exists & Active                               | O             |            | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Occurrence exists                                     | O             | O          |            | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Occurrence status CheckedIn                           | O             | O          |            |            | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Sufficient service stock                              | O             | O          | O          | O          |            |                        |             |             |                  |
|                  | Input                                        |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  | ServiceId                                    |                                                                                           |                                                       | O             | O          | O          | O          | O          |                        |             |             |                  |
|                  | OccurrenceId                                 |                                                                                           |                                                       | O             | O          | O          | O          | O          |                        |             |             |                  |
|                  | Quantity                                     |                                                                                           |                                                       | O             |            |            |            | O          |                        |             |             |                  |
| Confirm          | Return                                       |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  | Expected result                              |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | BookingServiceDto returned with Pending status        | O             |            |            |            |            |                        |             |             |                  |
|                  | Exception                                    |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Không tìm thấy dịch vụ                  |               | O          |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Không tìm thấy lịch sân                 |               |            | O          |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Chỉ có thể thêm dịch vụ khi đã check-in |               |            |            | O          |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Dịch vụ ... chỉ còn X sản phẩm          |               |            |            |            | O          |                        |             |             |                  |
|                  | Database changes                             |                                                                                           |                                                       |               |            |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | BookingService row inserted & service stock reduced   | O             |            |            |            |            |                        |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                           |                                                       | N             | A          | A          | A          | B          |                        |             |             |                  |
|                  | Passed/Failed                                |                                                                                           |                                                       | P             | P          | P          | P          | P          |                        |             |             |                  |

## FUNC_37

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                           | Unnamed: 3                                   | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 11     | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------- | :------------------------------------------- | :------------ | :--------- | :--------- | :-------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC37                                                                               |                                              | Function Name |            |            | EndServiceAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                      |                                              | Executed By   |            |            | TRONGDTHE170708 |             |             |                  |
| Test requirement |                                              | Ending booking services sets completion time, usage hours, and total price rounding. |                                              |               |            |            |                 |             |             |                  |
| Passed           |                                              | Failed                                                                               |                                              | Untested      |            |            | N/A/B           |             |             | Total Test Cases |
| 3                |                                              | 0                                                                                    |                                              | 0             |            |            | 1               | 1.0         | 1.0         | 3                |
|                  |                                              |                                                                                      |                                              | UTCID01       | UTCID02    | UTCID03    |                 |             |             |                  |
| Condition        | Precondition                                 |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  |                                              |                                                                                      | Server connection available                  | O             | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                      | Database connection available                | O             | O          | O          |                 |             |             |                  |
|                  |                                              |                                                                                      | Booking service exists                       | O             |            | O          |                 |             |             |                  |
|                  | Input                                        |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  | BookingServiceId                             |                                                                                      |                                              | O             | O          | O          |                 |             |             |                  |
| Confirm          | Return                                       |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  | Expected result                              |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  |                                              |                                                                                      | ServiceEndTime, Hours, TotalPrice updated    | O             |            | O          |                 |             |             |                  |
|                  | Exception                                    |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  |                                              |                                                                                      | ApiException: Không tìm thấy dịch vụ đặt sân |               | O          |            |                 |             |             |                  |
|                  | Database changes                             |                                                                                      |                                              |               |            |            |                 |             |             |                  |
|                  |                                              |                                                                                      | BookingService row updated to Completed      | O             |            | O          |                 |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                      |                                              | N             | A          | B          |                 |             |             |                  |
|                  | Passed/Failed                                |                                                                                      |                                              | P             | P          | P          |                 |             |             |                  |

## FUNC_38

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                       | Unnamed: 3                                 | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11               | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :--------------------------------------------------------------- | :----------------------------------------- | :------------ | :--------- | :--------- | :--------- | :------------------------ | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC38                                                           |                                            | Function Name |            |            |            | ChangeCustomerStatusAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                  |                                            | Executed By   |            |            |            | TRONGDTHE170708           |             |             |                  |
| Test requirement |                                              | Changing customer status validates existence and allowed states. |                                            |               |            |            |            |                           |             |             |                  |
| Passed           |                                              | Failed                                                           |                                            | Untested      |            |            |            | N/A/B                     |             |             | Total Test Cases |
| 4                |                                              | 0                                                                |                                            | 0             |            |            |            | 2                         | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                  |                                            | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                           |             |             |                  |
| Condition        | Precondition                                 |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                  | Server connection available                | O             | O          | O          | O          |                           |             |             |                  |
|                  |                                              |                                                                  | Database connection available              | O             | O          | O          | O          |                           |             |             |                  |
|                  |                                              |                                                                  | Customer exists                            | O             |            | O          | O          |                           |             |             |                  |
|                  |                                              |                                                                  | Requested status valid                     | O             |            |            | O          |                           |             |             |                  |
|                  | Input                                        |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  | CustomerId                                   |                                                                  |                                            | O             | O          | O          | O          |                           |             |             |                  |
|                  | Status                                       |                                                                  |                                            | O             |            | O          | O          |                           |             |             |                  |
| Confirm          | Return                                       |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  | Expected result                              |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                  | Response returns updated customer snapshot | O             |            |            | O          |                           |             |             |                  |
|                  | Exception                                    |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                  | ApiException: Customer does not exist      |               | O          |            |            |                           |             |             |                  |
|                  |                                              |                                                                  | ApiException: Invalid status               |               |            | O          |            |                           |             |             |                  |
|                  | Database changes                             |                                                                  |                                            |               |            |            |            |                           |             |             |                  |
|                  |                                              |                                                                  | Customer status persisted                  | O             |            |            | O          |                           |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                  |                                            | N             | A          | B          | N          |                           |             |             |                  |
|                  | Passed/Failed                                |                                                                  |                                            | P             | P          | P          | P          |                           |             |             |                  |

## FUNC_39

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                          | Unnamed: 3                              | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 11           | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------- | :-------------------------------------- | :------------ | :--------- | :--------- | :-------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC39                                                                              |                                         | Function Name |            |            | UpdateWebDisplayAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                     |                                         | Executed By   |            |            | TRONGDTHE170708       |             |             |                  |
| Test requirement |                                              | Toggling product web visibility requires existing product and flips IsDisplayOnWeb. |                                         |               |            |            |                       |             |             |                  |
| Passed           |                                              | Failed                                                                              |                                         | Untested      |            |            | N/A/B                 |             |             | Total Test Cases |
| 3                |                                              | 0                                                                                   |                                         | 0             |            |            | 1                     | 1.0         | 1.0         | 3                |
|                  |                                              |                                                                                     |                                         | UTCID01       | UTCID02    | UTCID03    |                       |             |             |                  |
| Condition        | Precondition                                 |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  |                                              |                                                                                     | Server connection available             | O             | O          | O          |                       |             |             |                  |
|                  |                                              |                                                                                     | Database connection available           | O             | O          | O          |                       |             |             |                  |
|                  |                                              |                                                                                     | Product exists                          | O             |            | O          |                       |             |             |                  |
|                  | Input                                        |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  | ProductId                                    |                                                                                     |                                         | O             | O          | O          |                       |             |             |                  |
|                  | IsDisplayOnWeb                               |                                                                                     |                                         | O             |            | O          |                       |             |             |                  |
| Confirm          | Return                                       |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  | Expected result                              |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  |                                              |                                                                                     | Product.IsDisplayOnWeb updated per flag | O             |            | O          |                       |             |             |                  |
|                  | Exception                                    |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  |                                              |                                                                                     | ApiException: Sản phẩm không tồn tại    |               | O          |            |                       |             |             |                  |
|                  | Database changes                             |                                                                                     |                                         |               |            |            |                       |             |             |                  |
|                  |                                              |                                                                                     | Product row updated                     | O             |            | O          |                       |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                     |                                         | N             | A          | B          |                       |             |             |                  |
|                  | Passed/Failed                                |                                                                                     |                                         | P             | P          | P          |                       |             |             |                  |

## FUNC_40

| Unnamed: 0       | Unnamed: 1                                   | Unnamed: 2                                                                                | Unnamed: 3                                       | Unnamed: 5    | Unnamed: 6 | Unnamed: 7 | Unnamed: 8 | Unnamed: 11            | Unnamed: 12 | Unnamed: 13 | Unnamed: 14      |
| :--------------- | :------------------------------------------- | :---------------------------------------------------------------------------------------- | :----------------------------------------------- | :------------ | :--------- | :--------- | :--------- | :--------------------- | :---------- | :---------- | :--------------- |
| Function Code    |                                              | FUNC40                                                                                    |                                                  | Function Name |            |            |            | ChangeCourtStatusAsync |             |             |                  |
| Created By       |                                              | TRONGDTHE170708                                                                           |                                                  | Executed By   |            |            |            | TRONGDTHE170708        |             |             |                  |
| Test requirement |                                              | Changing court status validates existence and allowed statuses (Active/Inactive/Deleted). |                                                  |               |            |            |            |                        |             |             |                  |
| Passed           |                                              | Failed                                                                                    |                                                  | Untested      |            |            |            | N/A/B                  |             |             | Total Test Cases |
| 4                |                                              | 0                                                                                         |                                                  | 0             |            |            |            | 2                      | 1.0         | 1.0         | 4                |
|                  |                                              |                                                                                           |                                                  | UTCID01       | UTCID02    | UTCID03    | UTCID04    |                        |             |             |                  |
| Condition        | Precondition                                 |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | Server connection available                      | O             | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Database connection available                    | O             | O          | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Court exists                                     | O             |            | O          | O          |                        |             |             |                  |
|                  |                                              |                                                                                           | Requested status valid                           | O             |            |            | O          |                        |             |             |                  |
|                  | Input                                        |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  | CourtId                                      |                                                                                           |                                                  | O             | O          | O          | O          |                        |             |             |                  |
|                  | Status                                       |                                                                                           |                                                  | O             |            | O          | O          |                        |             |             |                  |
| Confirm          | Return                                       |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  | Expected result                              |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | DetailCourtResponse returned with updated status | O             |            |            | O          |                        |             |             |                  |
|                  | Exception                                    |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Sân không tồn tại                  |               | O          |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | ApiException: Trạng thái không hợp lệ            |               |            | O          |            |                        |             |             |                  |
|                  | Database changes                             |                                                                                           |                                                  |               |            |            |            |                        |             |             |                  |
|                  |                                              |                                                                                           | Court status persisted                           | O             |            |            | O          |                        |             |             |                  |
| Result           | Type(N : Normal, A : Abnormal, B : Boundary) |                                                                                           |                                                  | N             | A          | B          | N          |                        |             |             |                  |
|                  | Passed/Failed                                |                                                                                           |                                                  | P             | P          | P          | P          |                        |             |             |                  |
